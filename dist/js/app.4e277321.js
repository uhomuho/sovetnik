(function(t){function e(e){for(var a,l,r=e[0],o=e[1],c=e[2],f=0,d=[];f<r.length;f++)l=r[f],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&d.push(s[l][0]),s[l]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);u&&u(e);while(d.length)d.shift()();return n.push.apply(n,c||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],a=!0,r=1;r<i.length;r++){var o=i[r];0!==s[o]&&(a=!1)}a&&(n.splice(e--,1),t=l(l.s=i[0]))}return t}var a={},s={app:0},n=[];function l(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,l),i.l=!0,i.exports}l.m=t,l.c=a,l.d=function(t,e,i){l.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},l.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,e){if(1&e&&(t=l(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(l.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)l.d(i,a,function(e){return t[e]}.bind(null,a));return i},l.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return l.d(e,"a",e),e},l.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},l.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=o;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"01f7":function(t,e,i){t.exports=i.p+"img/angle-4.4a325331.svg"},"02c3":function(t,e,i){},"0a3b":function(t,e,i){t.exports=i.p+"img/decrase.c159c73e.svg"},"0d45":function(t,e,i){t.exports=i.p+"img/delete.d2229aa0.svg"},1298:function(t,e){t.exports={string:{0:"Января",1:"Февраля",2:"Марта",3:"Апреля",4:"Мая",5:"Июня",6:"Июля",7:"Августа",8:"Сентября",9:"Октября",10:"Ноября",11:"Декабря"},num:{0:"01",1:"02",2:"03",3:"04",4:"05",5:"06",6:"07",7:"08",8:"09",9:"10",10:"11",11:"12"},calendar:{"01":"Январь","02":"Февраль","03":"Март","04":"Апрель","05":"Май","06":"Июнь","07":"Июль","08":"Август","09":"Сентябрь",10:"Октябрь",11:"Ноябрь",12:"Декабрь"}}},2388:function(t,e,i){"use strict";var a=i("4acd"),s=i.n(a);s.a},2538:function(t,e,i){},"452f":function(t,e,i){},4678:function(t,e,i){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(t){var e=n(t);return i(e)}function n(t){if(!i.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}s.keys=function(){return Object.keys(a)},s.resolve=n,t.exports=s,s.id="4678"},"4acd":function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("289d"),s=(i("c350"),i("2b0e")),n=i("2f62"),l=i("8c4f"),r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},o=[],c={name:"Login",components:{},data:function(){return{}}},u=c,f=i("2877"),d=Object(f["a"])(u,r,o,!1,null,null,null),h=d.exports,g=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-view")],1)},m=[],v={name:"Waybills"},p=v,y=Object(f["a"])(p,g,m,!1,null,null,null),b=y.exports,w=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{click:t.close}},[i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"level"},[t._m(0),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("table",[i("tr",[i("td",{class:"year"==t.filterType?"active":null,on:{click:function(e){t.setFilter("year"),t.getWaybills(0)}}},[t._v("весь год")]),i("td",{class:"yest"==t.filterType?"active":null,on:{click:function(e){t.setFilter("yest"),t.getWaybills(0)}}},[t._v("вчера")])]),i("tr",[i("td",{class:"month"==t.filterType?"active":null,on:{click:function(e){t.setFilter("month"),t.getWaybills(0)}}},[t._v("месяц")]),i("td",{class:"today"==t.filterType?"active":null,on:{click:function(e){t.setFilter("today"),t.getWaybills(0)}}},[t._v("сегодня")])]),i("tr",[i("td",{class:"week"==t.filterType?"active":null,on:{click:function(e){t.setFilter("week"),t.getWaybills(0)}}},[t._v("неделя")]),i("td",{class:"range"==t.filterType?"active":null,on:{click:function(e){t.setFilter("range"),t.getWaybills(0)}}},[t._v("период")])])])]),i("div",{staticClass:"level-item"},[i("div",{staticClass:"wrapper from",on:{click:t.openFrom}},[i("p",[t._v(t._s(t.stringFrom))]),t.invalidDate(t.dateFrom)?t._e():i("Calendar",{class:t.showFrom?null:"is-hidden",attrs:{time:!1,date:t.dateFrom},on:{select:t.setFrom}})],1),i("div",{staticClass:"wrapper to",on:{click:t.openTo}},[i("p",[t._v(t._s(t.stringTo))]),t.invalidDate(t.dateTo)?t._e():i("Calendar",{class:t.showTo?null:"is-hidden",attrs:{time:!1,date:t.dateTo},on:{select:t.setTo}})],1)])])]),i("hr"),t.waybills?i("Table",{attrs:{waybills:t.waybills,total:t.total,isLoading:t.isLoading}}):t._e()],1)]),t.isLoading?i("b-loading",{attrs:{"is-full-page":!0},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}):t._e()],1)},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",[t._v(" Путевые листы"),i("br"),t._v("за период:")])])])}],_=(i("99af"),i("5530")),x=i("1298"),F=i.n(x),D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper",attrs:{id:"waybills_table"},on:{click:t.close}},[a("div",{staticClass:"container"},[a("div",{staticClass:"table-container"},[a("table",{staticClass:"table is-fullwidth"},[a("thead",[a("tr",[a("th",{staticClass:"id"},[t._v("№")]),a("th",{staticClass:"car"},[a("div",{staticClass:"dropdown",class:t.openedCarDropdown?"is-active":null,on:{click:t.toggleCarDropdown}},[a("p",[t._v("Машина")]),a("img",{staticClass:"icon",attrs:{src:i("6568")}}),t.openedCarDropdown&&t.carFilter?a("div",{staticClass:"menu"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("div",{staticClass:"tile is-child"},[a("div",{staticClass:"title"},[t._v("Тип ТС")]),t._l(t.carFilter,(function(e,i){return a("div",{staticClass:"field"},[a("div",{staticClass:"choose",class:i==t.choosenCar?"selected":null,on:{mouseover:function(e){return t.setCar(i)}}},[t._v(t._s(i))])])})),a("div",{staticClass:"field"},[a("div",{staticClass:"choose",class:null==t.choosenCar?"selected":null,on:{click:function(e){return t.setCar(null)}}},[t._v("Все")])])],2),a("div",{staticClass:"tile is-child is-8"},[a("div",{staticClass:"title"},[t._v("Гос. номер")]),a("div",{staticClass:"columns is-flex is-multiline"},t._l(t.carFilter[t.choosenCar],(function(e){return t.choosenCar?a("div",{staticClass:"column is-4"},[a("div",{staticClass:"column-container num",class:t.filter.serial==e.serial?"selected":null,on:{click:function(i){return t.setSerial(e.serial)}}},[t._v(t._s(e.registrationPlate))])]):t._e()})),0)])])])]):t._e()])]),t._m(0),t._m(1),a("th",{staticClass:"task"},[t._v("Задание")]),a("th",{staticClass:"driver"},[t._v("Водитель")]),a("th",{staticClass:"status"},[a("div",{staticClass:"dropdown",class:t.openedDropdown?"is-active":null,on:{click:t.toggleDropdown}},[a("p",[t._v("Статус")]),a("img",{staticClass:"icon",attrs:{src:i("6568")}}),t.openedDropdown?a("div",{staticClass:"menu"},t._l(t.statusList,(function(e){return a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],attrs:{type:"checkbox",id:e.id},domProps:{value:e.name,checked:Array.isArray(t.filter.status)?t._i(t.filter.status,e.name)>-1:t.filter.status},on:{input:t.setStatus,change:function(i){var a=t.filter.status,s=i.target,n=!!s.checked;if(Array.isArray(a)){var l=e.name,r=t._i(a,l);s.checked?r<0&&t.$set(t.filter,"status",a.concat([l])):r>-1&&t.$set(t.filter,"status",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.filter,"status",n)}}}),a("label",{staticClass:"checkbox",attrs:{for:e.id}},[t._v(t._s(e.text)),a("img",{attrs:{src:("development"==t.mode?"/":t.$userConfig.publicPath)+"icons/check.svg"}})])])])})),0):t._e()])])])]),t._l(t.waybills.listWaybill,(function(e){return 0!==t.waybills.listWaybill.length?a("tbody",[a("tr",{on:{click:function(i){"CLOSE"==e.status.name?t.goto("/reports/waybill/"+e.id):"OPEN"==e.status.name&&t.goto("/waybills/close/"+e.id)}}},[a("td",{staticClass:"id",class:e.status.class},[t._v(t._s(e.id))]),a("td",{staticClass:"car is-paddingless"},[a("table",{staticClass:"table is-fullwidth"},[a("tr",[a("td",[t._v(t._s(e.car.model))]),a("td",{staticClass:"is-lowercase"},[t._v(t._s(e.car.registrationPlate))])])])]),a("td",{staticClass:"start"},[t._v(" "+t._s(e.startFact?t.dateTimeStamp(e.startFact):null)),e.startPlan&&e.startFact?a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"far fa-calendar-check",class:e.startPlan==e.startFact?"is-success":"is-danger"})]):t._e()]),a("td",{staticClass:"finish"},[t._v(t._s(e.finishPlan?t.dateTimeStamp(e.finishPlan):null)),e.finishPlan&&e.finishFact?a("span",{staticClass:"icon is-small"},[a("i",{staticClass:"far fa-calendar-check",class:e.finishPlan==e.finishFact?"is-success":"is-danger"})]):t._e()]),a("td",{staticClass:"task"},[t._v(t._s(e.workText.length<=40?e.workText:e.workText.slice(0,-(e.workText.length-40))+"..."))]),a("td",{staticClass:"driver"},[t._v(t._s(e.driver.name))]),a("td",{staticClass:"status",class:e.status.class},[t._v(" "+t._s(e.status.text)),"CLOSE"==e.status.name?a("div",{attrs:{to:"/reports/waybill/"+e.id}},[a("img",{staticClass:"icon",attrs:{src:i("8508")}})]):t._e(),"OPEN"==e.status.name?a("div",{attrs:{to:"/waybills/close/"+e.id}},[a("img",{staticClass:"icon",attrs:{src:i("5c45")}})]):t._e()])])]):t._e()}))],2)]),a("b-loading",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}}),0==t.waybills.listWaybill.length?a("div",{staticClass:"container"},[t._m(2)]):t._e(),a("router-link",{staticClass:"open",attrs:{to:"/waybills/open"}},[a("b-button",[t._v("Открыть путевой лист")])],1),0!==t.waybills.listWaybill.length?a("nav",{staticClass:"pagination",attrs:{role:"navigation","aria-label":"pagination"}},[a("p",[t._v(t._s(t.waybillsOnPage)+"/"+t._s(t.waybills.count))]),a("div",{staticClass:"button prev",class:t.prevDisabled?null:"active",attrs:{role:"button",disabled:t.prevDisabled},on:{click:t.prevPage}}),a("div",{staticClass:"button next",class:t.nextDisabled?null:"active",attrs:{role:"button",disabled:t.nextDisabled},on:{click:t.nextPage}})]):t._e()],1)])},S=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",{staticClass:"start"},[t._v(" Время"),i("br"),t._v("выезда")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",{staticClass:"finish"},[t._v("Время"),i("br"),t._v("возвращения")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"content"},[i("span",{staticClass:"subtitle has-text-warning"},[t._v("Нет путевых листов по заданным параметрам")])])}],k=(i("4de4"),i("b680"),{name:"Table",data:function(){return{mode:"production",currentPage:1,filter:{status:[],serial:null},statusList:[{name:"CLOSE",text:"Закрыт",id:"close"},{name:"OPEN",text:"Открыт",id:"open"},{name:"CHECK,ERROR",text:"Проверка",id:"check"}],openedDropdown:!1,openedCarDropdown:!1,choosenCar:null}},props:["waybills","isLoading","total"],computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["e"])("waybills",{loading:function(t){return t.loading}})),Object(n["c"])("waybills",{carFilter:"getCarsFilter"})),{},{isEmpty:function(){return this.waybills=={}},waybillsOnPage:function(){return this.currentPage*this.waybills.size>this.waybills.count?this.waybills.count:this.currentPage*this.waybills.size},compPrev:function(){return!0},prevDisabled:function(){return 1==this.currentPage},nextDisabled:function(){return!(this.currentPage*this.waybills.size<this.waybills.count)}}),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["d"])("waybills",["setCarFilter"])),Object(n["b"])("waybills",["getWaybills","apiCarsFilter"])),{},{setCar:function(t){var e=this;this.filter.serial=t,this.choosenCar=t,null==t&&setTimeout((function(){e.getWaybills(e.filter).then((function(){e.openedCarDropdown=!1}))}))},toggleDropdown:function(t){t.target.matches(".menu *")||(this.openedDropdown=!this.openedDropdown)},noWorkDistance:function(t,e){return(t-e).toFixed(2)},dateTimeStamp:function(t){var e=new Date(t),i=1=="".concat(e.getDate()).length?"0".concat(e.getDate()):e.getDate(),a=1=="".concat(e.getHours()).length?"0".concat(e.getHours()):e.getHours(),s=1=="".concat(e.getMinutes()).length?"0".concat(e.getMinutes()):e.getMinutes();return"".concat(i,".").concat(F.a.num[e.getMonth()]," ").concat(a,":").concat(s)},goto:function(t){return this.$router.push(t)},setStatus:function(){var t=this;setTimeout((function(){t.getWaybills(t.filter)}))},setSerial:function(t){var e=this;this.filter.serial=t,setTimeout((function(){e.getWaybills(e.filter)})),this.openedCarDropdown=!1},nextPage:function(){this.nextDisabled||(this.currentPage+=1,this.getWaybills({page:this.currentPage}))},prevPage:function(){this.prevDisabled||(this.currentPage-=1,this.getWaybills({page:this.currentPage}))},close:function(t){t.target.matches(".dropdown *")||(this.openedDropdown=!1,this.openedCarDropdown=!1)},toggleCarDropdown:function(t){t.target.matches(".menu *")||(this.openedCarDropdown=!this.openedCarDropdown)}}),beforeMount:function(){this.apiCarsFilter()}}),j=k,M=Object(f["a"])(j,D,S,!1,null,null,null),T=M.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.range?a("div",{staticClass:"calendar range"},[a("div",{staticClass:"header"},[a("div",{staticClass:"trigger",on:{click:function(e){return t.decraseYear()}}},[a("img",{attrs:{src:i("0a3b")}})]),a("span",[t._v(t._s(t.year))]),a("div",{staticClass:"trigger",on:{click:function(e){return t.incraseYear()}}},[a("img",{attrs:{src:i("bae1")}})])]),a("div",{staticClass:"wrapper body"},[a("div",{staticClass:"month-container"},[a("div",{staticClass:"month-selector"},[a("div",{staticClass:"trigger",on:{click:function(e){return t.decraseMonth()}}},[a("img",{attrs:{src:i("0a3b")}})]),a("span",[t._v(t._s(t.selectedMonthName))]),a("div",{staticClass:"trigger",on:{click:function(e){return t.incraseMonth()}}},[a("img",{attrs:{src:i("bae1")}})])]),a("div",{staticClass:"body"},[a("table",[t._m(1),a("tbody",t._l(t.weeks,(function(e){return a("tr",t._l(e,(function(e){return a("td",{class:t.compDay==e.unix?"active":null,on:{click:function(i){return t.setDay(e.num)}}},[t._v(t._s(e.num))])})),0)})),0)])])]),a("div",{staticClass:"month-container"},[a("div",{staticClass:"month-selector"},[a("div",{staticClass:"trigger",on:{click:function(e){return t.decraseMonth()}}},[a("img",{attrs:{src:i("0a3b")}})]),a("span",[t._v(t._s(t.selectedMonthName))]),a("div",{staticClass:"trigger",on:{click:function(e){return t.incraseMonth()}}},[a("img",{attrs:{src:i("bae1")}})])]),a("div",{staticClass:"body"},[a("table",[t._m(2),a("tbody",t._l(t.weeks,(function(e){return a("tr",t._l(e,(function(e){return a("td",{class:t.compDay==e.unix?"active":null,on:{click:function(i){return t.setDay(e.num)}}},[t._v(t._s(e.num))])})),0)})),0)])])])])]):a("div",{staticClass:"calendar"},[a("div",{staticClass:"header"},[a("div",{staticClass:"trigger",on:{click:function(e){return t.decraseYear()}}},[a("img",{attrs:{src:i("0a3b")}})]),a("span",[t._v(t._s(t.year))]),a("div",{staticClass:"trigger",on:{click:function(e){return t.incraseYear()}}},[a("img",{attrs:{src:i("bae1")}})])]),a("div",{staticClass:"month-selector"},[a("div",{staticClass:"trigger",on:{click:function(e){return t.decraseMonth()}}},[a("img",{attrs:{src:i("0a3b")}})]),a("span",[t._v(t._s(t.selectedMonthName))]),a("div",{staticClass:"trigger",on:{click:function(e){return t.incraseMonth()}}},[a("img",{attrs:{src:i("bae1")}})])]),a("div",{staticClass:"body"},[a("table",[t._m(0),a("tbody",t._l(t.weeks,(function(e){return a("tr",t._l(e,(function(e){return a("td",{staticClass:"calendar-td",class:t.compDay==e.unix?"active":null,on:{click:function(i){return t.setDay(e.num)}}},[t._v(t._s(e.num))])})),0)})),0)])]),t.time?a("div",{staticClass:"footer"},[a("div",{staticClass:"timepicker"},[a("div",{staticClass:"hours"},[a("div",{staticClass:"trigger incrase",on:{click:function(e){return t.incraseHours()}}},[a("img",{staticClass:"incrase",attrs:{src:i("bae1")}})]),t._v(t._s(t.hours)),a("div",{staticClass:"trigger decrase",on:{click:function(e){return t.decraseHours()}}},[a("img",{staticClass:"incrase",attrs:{src:i("0a3b")}})])]),t._v(":"),a("div",{staticClass:"minutes"},[a("div",{staticClass:"trigger incrase",on:{click:function(e){return t.incraseMinutes()}}},[a("img",{staticClass:"incrase",attrs:{src:i("bae1")}})]),t._v(t._s(t.minutes)),a("div",{staticClass:"trigger decrase",on:{click:function(e){return t.decraseMinutes()}}},[a("img",{staticClass:"incrase",attrs:{src:i("0a3b")}})])])])]):t._e()])},P=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("пн")]),i("th",[t._v("вт")]),i("th",[t._v("ср")]),i("th",[t._v("чт")]),i("th",[t._v("пт")]),i("th",[t._v("сб")]),i("th",[t._v("вс")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("пн")]),i("th",[t._v("вт")]),i("th",[t._v("ср")]),i("th",[t._v("чт")]),i("th",[t._v("пт")]),i("th",[t._v("сб")]),i("th",[t._v("вс")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",[t._v("пн")]),i("th",[t._v("вт")]),i("th",[t._v("ср")]),i("th",[t._v("чт")]),i("th",[t._v("пт")]),i("th",[t._v("сб")]),i("th",[t._v("вс")])])])}],O={name:"Calendar",data:function(){return{currentMonth:F.a.num[(new Date).getMonth()],currentYear:(new Date).getFullYear(),timepicker:{currentHours:1=="".concat((new Date).getHours()).length?"0".concat((new Date).getHours()):(new Date).getHours(),currentMinutes:this.minutesRound((new Date).getMinutes()),selectedHours:this.date?this.date.getHours():null,selectedMinutes:this.date?this.date.getMinutes():null},selectedMonth:this.date?1=="".concat(this.date.getMonth()+1).length?"0".concat(this.date.getMonth()+1):"".concat(this.date.getMonth()+1):null,selectedYear:this.date?this.date.getFullYear():null,currentDay:(new Date).getDate(),selectedDay:this.date?this.date.getDate():null,weeks:[]}},props:["dateStart","dateFinish","time","autograph","range","date"],computed:{daysCount:function(){var t=this.selectedYear?this.selectedYear:this.currentYear,e=this.selectedMonth?this.selectedMonth:this.currentMonth;return new Date(t,e,0).getDate()},selectedMonthName:function(){var t=this.selectedMonth?this.selectedMonth:this.currentMonth;return F.a.calendar[t]},compDay:function(){return new Date("".concat(this.selectedYear,"-").concat(this.date?this.date.getMonth()+1:this.selectedMonth,"-").concat(this.selectedDay," 06:00")).getTime()},year:function(){var t=this.selectedYear?this.selectedYear:this.currentYear;return t},hours:function(){var t=this.timepicker.selectedHours?this.timepicker.selectedHours:this.timepicker.currentHours;return t},minutes:function(){var t=this.timepicker.selectedMinutes?1=="".concat(this.timepicker.selectedMinutes).length?"0".concat(this.timepicker.selectedMinutes):this.timepicker.selectedMinutes:1=="".concat(this.minutesRound(this.timepicker.currentMinutes)).length?"0".concat(this.minutesRound(this.timepicker.currentMinutes)):this.minutesRound(this.timepicker.currentMinutes);return t},selectedDate:function(){var t=this.selectedYear?this.selectedYear:this.currentYear,e=this.selectedMonth?this.selectedMonth:this.currentMonth,i=this.selectedDay?new Date(this.selectedDay).getDate():new Date(this.currentDay).getDate(),a=this.timepicker.selectedHours?this.timepicker.selectedHours:this.timepicker.currentHours,s=this.timepicker.selectedMinutes?this.timepicker.selectedMinutes:this.timepicker.currentMinutes;return new Date("".concat(t,"-").concat(e,"-").concat(i,", ").concat(a,":").concat(s))}},methods:Object(_["a"])(Object(_["a"])({},Object(n["b"])("reports",{getAutographReport:"apiAutographReport"})),{},{setDay:function(t){var e=this.selectedYear?this.selectedYear:this.currentYear,i=this.selectedMonth?this.selectedMonth:this.currentMonth;this.selectedDay=new Date("".concat(e,"-").concat(i,"-").concat(t)).getTime(),this.$emit("select",{date:this.selectedDate}),this.autograph&&this.getAutographReport()},decraseYear:function(){var t=this.selectedYear?this.selectedYear-1:this.currentYear-1,e=new Date(t,1,0);this.selectedYear=e.getFullYear(),this.getDays()},incraseYear:function(){var t=this.selectedYear?this.selectedYear+1:this.currentYear+1,e=new Date(t,1,0);this.selectedYear=e.getFullYear(),this.getDays()},decraseMonth:function(){var t=this.selectedMonth?parseInt(this.selectedMonth,10)-1:parseInt(this.currentMonth,10)-1,e=this.selectedYear?this.selectedYear:this.currentYear,i=new Date(e,t,0);0==t&&this.decraseYear(),this.selectedMonth=F.a.num[i.getMonth()],this.getDays()},incraseMonth:function(){var t=this.selectedMonth?parseInt(this.selectedMonth,10)+1:parseInt(this.currentMonth,10)+1,e=this.selectedYear?this.selectedYear:this.currentYear,i=new Date(e,t,0);13==t&&this.incraseYear(),this.selectedMonth=F.a.num[i.getMonth()],this.getDays()},incraseHours:function(){var t=this.timepicker.selectedHours?parseInt(this.timepicker.selectedHours,10)+1:parseInt(this.timepicker.currentHours,10)+1;this.timepicker.selectedHours=24==t?"00":1=="".concat(t).length?"0".concat(t):t,console.log(this.selectedDate),this.$emit("select",{date:this.selectedDate})},decraseHours:function(){var t=this.timepicker.selectedHours?parseInt(this.timepicker.selectedHours,10)-1:parseInt(this.timepicker.currentHours,10)-1;this.timepicker.selectedHours=-1==t?"23":1=="".concat(t).length?"0".concat(t):t,this.$emit("select",{date:this.selectedDate})},minutesRound:function(t){return t%5<3?t%5===0?t:5*Math.floor(t/5):5*Math.ceil(t/5)},incraseMinutes:function(){var t=this.timepicker.selectedMinutes?parseInt(this.timepicker.selectedMinutes,10)+5:this.minutesRound(this.timepicker.currentMinutes+5);60==t&&this.incraseHours(),this.timepicker.selectedMinutes=60==t?"00":t,this.$emit("select",{date:this.selectedDate})},decraseMinutes:function(){var t=this.timepicker.selectedMinutes?parseInt(this.timepicker.selectedMinutes,10)-5:this.minutesRound(this.timepicker.currentMinutes-5);if(-5==t)return this.timepicker.selectedMinutes="55",this.decraseHours();this.timepicker.selectedMinutes=0==t?"00":t,this.$emit("select",{date:this.selectedDate})},getDays:function(){for(var t={},e=Math.ceil(this.daysCount/7),i=this.selectedYear?this.selectedYear:this.currentYear,a=this.selectedMonth?this.selectedMonth:this.currentMonth,s=0,n=1;n<=e;n++){var l=7*n,r=7*(n-1);if(t[n]=[],1==n&&1!==new Date("".concat(i,"-").concat(a,"-").concat(r+1)).getDay()&&this.range)for(var o=new Date("".concat(i,"-").concat(a,"-").concat(r+1)).getDay()-1,c=1;c<=o;c++)t[n].unshift({unix:null,num:null}),r++,s++;for(r;r<l;r++){var u={unix:new Date("".concat(i,"-").concat(a,"-").concat(r-s+1)).getTime(),num:r-s+1};r+1<=this.daysCount+s&&t[n].push(u)}}this.weeks=t}}),mounted:function(){this.getDays()}},z=O,B=(i("b991"),Object(f["a"])(z,W,P,!1,null,"51f6c336",null)),L=B.exports,E={name:"Reports",components:{Table:T,Calendar:L},data:function(){return{isLoading:!1,showTo:!1,showFrom:!1}},computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["c"])("waybills",{waybills:"waybills",total:"total",filterType:"getFilterType"})),Object(n["e"])("waybills",{dateTo:function(t){return t.dateTo},dateFrom:function(t){return t.dateFrom}})),{},{stringFrom:function(){return"С ".concat(this.dateFrom.getDate()," ").concat(F.a.string[this.dateFrom.getMonth()]," ").concat(this.dateFrom.getFullYear())},stringTo:function(){return"по ".concat(this.dateTo.getDate()," ").concat(F.a.string[this.dateTo.getMonth()]," ").concat(this.dateTo.getFullYear())}}),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["b"])("waybills",["waybillsSort","getWaybills","setDates"])),Object(n["d"])("waybills",{setDateTo:"dateTo",setDateFrom:"dateFrom",setFilter:"setFilterType"})),{},{setTo:function(t){var e=this;this.setDateTo(t),setTimeout((function(){e.getWaybills()}),50)},setFrom:function(t){var e=this;this.setDateFrom(t),setTimeout((function(){e.getWaybills()}),50)},openTo:function(t){(t.target.matches(".wrapper.to p")||t.target.matches(".wrapper.to"))&&(this.showTo=!this.showTo)},openFrom:function(t){(t.target.matches(".wrapper.from p")||t.target.matches(".wrapper.from"))&&(this.showFrom=!this.showFrom)},close:function(t){t.target.matches(".calendar *, .wrapper.to *, .wrapper.from *")||(this.showTo&&(this.showTo=!1),this.showFrom&&(this.showFrom=!1))},invalidDate:function(t){return"Invalid Date"==t}}),mounted:function(){var t=this;this.dateTo&&this.dateFrom&&"Invalid Date"!=this.dateFrom&&"Invalid Date"!=this.dateTo?(this.isLoading=!0,this.getWaybills().then((function(){return t.isLoading=!1}))):this.setDates().then((function(){t.isLoading=!0,t.getWaybills().then((function(){return t.isLoading=!1}))}))}},R=E,$=(i("9a06"),Object(f["a"])(R,w,C,!1,null,"037a2db0",null)),I=$.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"container",attrs:{id:"create"},on:{click:t.close}},[t.waybill?a("div",{staticClass:"section"},[a("div",{staticClass:"level"},[t._m(0),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[t._v("№"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.id,expression:"waybill.id"}],staticClass:"id",attrs:{type:"number"},domProps:{value:t.waybill.id},on:{input:[function(e){e.target.composing||t.$set(t.waybill,"id",e.target.value)},t.changeWidthId]}})])]),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[t._v("от"),a("span",{staticClass:"date-of",on:{click:t.openOf}},[t._v(t._s(t.dateStringOf))]),a("Calendar",{class:t.ofTime?null:"hide",on:{select:t.selectOf}})],1)])])])])]),a("hr"),a("div",{staticClass:"tile is-ancestor is-marginless"},[a("div",{staticClass:"tile"},[a("div",{staticClass:"level"},[t._m(1),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item plate",class:t.plates?"is-active":""},[a("input",{attrs:{placeholder:"Гос. номер"},domProps:{value:t.waybill.car.registrationPlate},on:{keyup:t.filterPlates}}),a("img",{staticClass:"icon",attrs:{src:i("01f7")}}),t.plates?a("div",{staticClass:"plates dropdown"},t._l(t.plates,(function(e){return a("p",{class:e.registrationPlate==t.waybill.car.registrationPlate?"selected":"",on:{click:function(i){t.setCar(e),t.getLastWb(e.serial),t.plates=null}}},[t._v(t._s(e.registrationPlate))])})),0):t._e()])])]),a("div",{staticClass:"level"},[t._m(2),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.driver.name,expression:"waybill.driver.name"}],staticClass:"driver",attrs:{placeholder:"Водитель"},domProps:{value:t.waybill.driver.name},on:{keyup:t.filterDriver,input:function(e){e.target.composing||t.$set(t.waybill.driver,"name",e.target.value)}}}),a("img",{staticClass:"icon",attrs:{src:i("01f7")}}),t.drivers?a("div",{staticClass:"drivers dropdown"},t._l(t.drivers,(function(e){return a("p",{class:e.id==t.waybill.driver.id?"selected":"",on:{click:function(i){t.setDriver(e),t.drivers=null}}},[t._v(t._s(e.name))])})),0):t._e()])])]),a("div",{staticClass:"level"},[t._m(3),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item date"},[a("div",{staticClass:"wrapper",class:t.startTime?"is-active":null,on:{click:t.openStart}},[a("span",{class:t.waybill.startPlan?null:"placeholder",domProps:{innerHTML:t._s(t.waybill.startPlan?t.dateTimeStringStart:"XX/XX/XX, XX:XX")}}),a("img",{staticClass:"icon",attrs:{src:i("01f7")}})]),a("Calendar",{class:t.startTime?null:"hide",attrs:{time:!0,dateFinish:t.unixDateFinish?t.unixDateFinish:null},on:{select:t.selectStart}})],1)])]),a("div",{staticClass:"level"},[t._m(4),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item date"},[a("div",{staticClass:"wrapper",class:t.finishTime?"is-active":null,on:{click:t.openFinish}},[a("span",{class:t.waybill.finishPlan?null:"placeholder",domProps:{innerHTML:t._s(t.waybill.finishPlan?t.dateTimeStringFinish:"XX/XX/XX, XX:XX")}}),a("img",{staticClass:"icon",attrs:{src:i("01f7")}})]),a("Calendar",{class:t.finishTime?null:"hide",attrs:{time:!0,dateStart:t.unixDateStart?t.unixDateStart:null},on:{select:t.selectFinish}})],1)])]),a("hr"),a("div",{staticClass:"level"},[t._m(5),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.mileageStart,expression:"waybill.mileageStart"}],attrs:{placeholder:"Спидометр в начале смены"},domProps:{value:t.waybill.mileageStart},on:{input:function(e){e.target.composing||t.$set(t.waybill,"mileageStart",e.target.value)}}}),t.lastWb?a("span",{staticClass:"hint"},[t._v("(показание предыдущей смены)")]):a("span",{staticClass:"hint is-danger"},[t._v("Нет данных с предыдущей смены")])])])]),a("div",{staticClass:"level"},[t._m(6),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.fuelStart,expression:"waybill.fuelStart"}],attrs:{placeholder:"Топливо в начале смены"},domProps:{value:t.waybill.fuelStart},on:{input:function(e){e.target.composing||t.$set(t.waybill,"fuelStart",e.target.value)}}}),t.lastWb?a("span",{staticClass:"hint"},[t._v("(показание предыдущей смены)")]):a("span",{staticClass:"hint is-danger"},[t._v("Нет данных с предыдущей смены")])])])])]),a("div",{staticClass:"tile"},[a("Blank",{attrs:{id:t.waybill.id,dateOf:t.waybill.of,model:t.waybill.car&&t.waybill.car.model?t.waybill.car.model:null,registrationPlate:t.waybill.car&&t.waybill.car.registrationPlate?t.waybill.car.registrationPlate:null,serial:t.waybill.serial,driver:t.waybill.driver,task:t.waybill.workText,mileageLast:t.waybill.mileageStart,fuelLast:t.waybill.fuelStart,dateStart:t.waybill.startPlan,dateFinish:t.waybill.finishPlan}})],1)]),a("hr"),a("div",{staticClass:"task"},[a("span",{staticClass:"title"},[t._v("Задание водителю:")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.workText,expression:"waybill.workText"}],attrs:{placeholder:"Задание"},domProps:{value:t.waybill.workText},on:{input:function(e){e.target.composing||t.$set(t.waybill,"workText",e.target.value)}}})]),a("div",{staticClass:"button is-pulled-right",on:{click:function(e){return e.preventDefault(),t.openWb()}}},[t._v("Просмотр")]),t.isLoading?a("b-loading",{attrs:{"is-full-page":!0},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}}):t._e()],1):a("b-loading",{attrs:{"is-fill-page":!0}})],1)])},Y=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",[t._v("Новый"),i("br"),t._v("путевой лист")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v("Гос. номер:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v("Водитель:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v("Выезд из гаража:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v("Возвращение в гараж:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("span",[t._v("Спидометр:")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("span",[t._v("Остаток при выдаче:")])])])}],U=(i("b0c0"),i("96cf"),i("1da1")),H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("v-stage",{attrs:{config:t.stageConfig}},[i("v-layer",[i("v-rect",{attrs:{config:t.containerConfig}}),i("v-text",{attrs:{config:{x:101,y:17,text:"ПУТЕВОЙ ЛИСТ",fontFamily:"Montserrat",fontSize:6.50877,fontStyle:700,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:101,y:28.8,text:"грузового автомобиля",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:165.97,y:32.54,width:77.64,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:248.73,y:27.89,text:"№",fontFamily:"Montserrat",fontSize:5.57895,fontStyle:700,fill:"#253238"}}}),t.id?i("v-rect",{attrs:{config:{x:257.1,y:26,width:77.18,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:257.1,y:26,width:77.18,height:7.44,fill:"#F09A9B"}}}),t.dateOf?i("v-rect",{attrs:{config:{x:126.47,y:36,width:25.11,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:126.47,y:36,width:25.11,height:7.44,fill:"#F09A9B"}}}),(t.dateOf,i("v-rect",{attrs:{config:{x:156.21,y:36,width:64.16,height:7.44,fill:"#7FCCC6"}}})),(t.dateOf,i("v-rect",{attrs:{config:{x:224.55,y:36,width:19.06,height:7.44,fill:"#7FCCC6"}}})),i("v-text",{attrs:{config:{x:245.47,y:39.05,text:"года",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:13.95,y:53,text:"Организация",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:41.84,y:55.79,width:359.38,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:45.1,y:50.68,text:"МБУ  Кировский ДЭУ г.Екатеринбург, ул.Вишневая, 69, тел. 374-45-99",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:700,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:13.95,y:80.89,text:"Марка автомобиля",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:55.32,y:84.15,width:118.09,height:.464912,fill:"#B0BFC6"}}}),t.model?i("v-rect",{attrs:{config:{x:55.11,y:76.7,width:117.09,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:55.11,y:76.7,width:117.09,height:7.44,fill:"#F09A9B"}}}),i("v-text",{attrs:{config:{x:13.95,y:90.19,text:"Государственный номерной знак",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:83.68,y:93.45,width:89.73,height:.464912,fill:"#B0BFC6"}}}),t.registrationPlate?i("v-rect",{attrs:{config:{x:83.68,y:86.01,width:88.8,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:83.68,y:86.01,width:88.8,height:7.44,fill:"#F09A9B"}}}),i("v-text",{attrs:{config:{x:13.95,y:100.49,text:"Водитель",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:37.19,y:103.28,width:136.22,height:.464912,fill:"#B0BFC6"}}}),t.driver?i("v-rect",{attrs:{config:{x:38.12,y:95.38,width:134.36,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:38.12,y:95.38,width:134.36,height:7.44,fill:"#F09A9B"}}}),i("v-text",{attrs:{config:{x:13.95,y:108.79,text:"Удостоверение №",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:55.32,y:111.58,width:91.12,height:.464912,fill:"#B0BFC6"}}}),t.serial?i("v-rect",{attrs:{config:{x:55.18,y:104.41,width:90.12,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:55.18,y:104.41,width:90.12,height:7.44,fill:"#F09A9B"}}}),i("v-text",{attrs:{config:{x:150.17,y:108.79,text:"Класс",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:169.23,y:111.58,width:42.31,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:13.95,y:118.09,text:"Лицензионная карточка",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:65.09,y:120.88,width:146.45,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:13.95,y:127.39,text:"Регистрационный №",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:58.58,y:130.18,width:39.52,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:101.35,y:127.39,text:"Серия",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:115.3,y:130.18,width:29.75,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:148.77,y:127.39,text:"№",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:156.21,y:130.18,width:55.32,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:13.95,y:136.68,text:"Прицеп 1",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:33.47,y:139.47,width:29.75,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:65.55,y:136.68,text:"Гос. номерной знак",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:105.54,y:139.47,width:29.75,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:139.01,y:136.68,text:"Гаражный номер",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:176.67,y:139.47,width:34.87,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:13.95,y:145.98,text:"Прицеп 2",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:33.47,y:148.77,width:29.75,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:65.55,y:145.98,text:"Гос. номерной знак",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:105.54,y:148.77,width:29.75,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:139.01,y:145.98,text:"Гаражный номер",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:176.67,y:148.77,width:34.87,height:.464912,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:13.95,y:155.28,text:"Сопровождающие лица:",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:85.08,y:164.58,text:"ЗАДАНИЕ ВОДИТЕЛЮ",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:13.95,y:172.48,width:197.59,height:39.51,stroke:"#B0BFC6",strokeWidth:.5}}}),i("v-text",{attrs:{config:{x:47.89,y:176.67,text:"в чье распоряжение\n(наименование и адрес заказчика)",align:"center",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:150.63,y:174.81,text:"время, ч., мин.",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:187.5,y:174.81,text:"количество",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:147,y:183.64,text:"прибытия",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:168,y:183.64,text:"убытия",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:185.5,y:183.64,text:"часов",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:199.4,y:183.64,text:"ездок",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:13.95,y:190.15,width:197.59,height:11.62,stroke:"#B0BFC6",strokeWidth:.5}}}),i("v-rect",{attrs:{config:{x:144.59,y:172.5,width:39.05,height:39.51,stroke:"#B0BFC6",strokeWidth:.5}}}),i("v-rect",{attrs:{config:{x:145.05,y:181.32,width:66.48,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:165.97,y:181.5,height:30.5,width:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:197.59,y:181.5,height:30.5,width:.5,fill:"#B0BFC6"}}}),t.task?i("v-rect",{attrs:{config:{x:16.74,y:192.47,width:126.46,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:16.74,y:192.47,width:126.46,height:7.44,fill:"#F09A9B"}}}),i("v-text",{attrs:{config:{x:13.95,y:219.44,text:"Водительское удостоверение проверил,\nзадание выдал, выдать горючего",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:94.84,y:227.81,width:46.03,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:143.19,y:224.55,text:"литров",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:13.95,y:234.32,text:"Диспетчер",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:39.05,y:237.57,width:46.03,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:51.14,y:233.85,text:"Ильина Н.В.",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:700,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:13.95,y:242.68,text:"Водитель по состоянию здоровья\nк управлению допущен",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:84.15,y:251.05,width:46.03,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:88.33,y:246.4,text:"Мещерякова Е.С.",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:700,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:223.16,y:65.09,width:242.68,height:55.79,stroke:"#B0BFC6",strokeWidth:.2}}}),i("v-text",{attrs:{config:{x:310.61,y:68.41,text:"Работа водителя и автомобиля",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:223.16,y:74.39,width:242.68,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:278.95,y:74.39,width:.5,height:46.03,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:297.08,y:83.68,width:.5,height:36.73,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:316.14,y:83.68,width:.5,height:36.73,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:334.27,y:83.68,width:.5,height:36.73,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:353.33,y:74.39,width:.5,height:46.03,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:380.76,y:74.39,width:.5,height:46.03,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:418.42,y:74.39,width:.5,height:46.03,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:279.41,y:83.68,width:73.92,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:223.16,y:92.98,width:242.68,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:223.16,y:102.28,width:242.68,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:223.16,y:111.58,width:242.68,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:239.04,y:82.36,text:"операция",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:298.94,y:76.71,text:"время по графику",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:282.67,y:87.01,text:"число",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:301.26,y:87.01,text:"месяц",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:322.18,y:87.01,text:"час",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:339.85,y:87.01,text:"мин",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:358,y:78.32,text:"нулевой\nпробег,\nкм",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:387.27,y:78.12,text:"показание\nспидометра,\nкм",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:423.07,y:78.12,text:"время фактическое\nчисло, месяц, ч., мин",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:247.33,y:96.31,text:"1",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:287.32,y:96.31,text:"2",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:306.38,y:96.31,text:"3",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:324.04,y:96.31,text:"4",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:343.11,y:96.31,text:"5",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:364.96,y:96.31,text:"6",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:398.43,y:96.31,text:"7",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:441.67,y:96.31,text:"8",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:226.02,y:105.54,text:"выезд из гаража",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:226.02,y:114.97,text:"возвращение в гараж",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),t.dateStart?i("v-rect",{attrs:{config:{x:280.46,y:103.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:280.46,y:103.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.dateStart?i("v-rect",{attrs:{config:{x:299,y:103.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:299,y:103.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.dateStart?i("v-rect",{attrs:{config:{x:317.5,y:103.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:317.5,y:103.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.dateStart?i("v-rect",{attrs:{config:{x:336,y:103.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:336,y:103.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.dateFinish?i("v-rect",{attrs:{config:{x:280.46,y:112.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:280.46,y:112.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.dateFinish?i("v-rect",{attrs:{config:{x:299,y:112.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:299,y:112.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.dateFinish?i("v-rect",{attrs:{config:{x:317.5,y:112.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:317.5,y:112.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.dateFinish?i("v-rect",{attrs:{config:{x:336,y:112.5,width:15.5,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:336,y:112.5,width:15.5,height:7.44,fill:"#F09A9B"}}}),t.mileageLast?i("v-rect",{attrs:{config:{x:384.02,y:103.35,width:31.15,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:384.02,y:103.35,width:31.15,height:7.44,fill:"#F09A9B"}}}),i("v-rect",{attrs:{config:{x:223.16,y:130.18,width:242.68,height:55.79,stroke:"#B0BFC6",strokeWidth:.2}}}),i("v-text",{attrs:{config:{x:323.75,y:132.96,text:"Движение горючего",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:223.16,y:139.47,width:194.8,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:241.75,y:148.77,width:.5,height:37.19,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:260.35,y:139.47,width:.5,height:46.49,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:283.6,y:139.47,width:.5,height:46.49,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:315.68,y:148.77,width:.5,height:37.19,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:348.68,y:139.47,width:.5,height:46.49,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:367.28,y:139.47,width:.5,height:46.49,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:417.96,y:130.18,width:.5,height:55.79,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:441.67,y:148.77,width:.5,height:37.19,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:223.16,y:148.77,width:37.19,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:283.6,y:148.77,width:65.09,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:417.96,y:148.77,width:47.89,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:223.16,y:158.07,width:242.68,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:223.16,y:167.37,width:242.68,height:.5,fill:"#B0BFC6"}}}),i("v-rect",{attrs:{config:{x:223.16,y:176.67,width:242.68,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:228.67,y:161.39,text:"Д/т",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:700,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:234.32,y:142.8,text:"прочее",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:226.41,y:151.7,text:"марка",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:245.4,y:149.7,text:"код\nмарки",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:263.14,y:149.7,text:"выдано,\nл",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:305.45,y:142.8,text:"остаток при",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:290.57,y:149.7,text:"выезде,\nл",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:318,y:149.7,text:"возвращении,\nл",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:352.4,y:149.7,text:"сдано,\nл",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:379.3,y:143.73,text:"коэффициент\nизменения\nнормы",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:429.58,y:135.75,text:"время работы,\nч. мин.",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:419.35,y:150.24,text:"спецобору\nдования",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),i("v-text",{attrs:{config:{x:443.99,y:151.1,text:"двигателя",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238",align:"center"}}}),t.fuelLast?i("v-rect",{attrs:{config:{x:291.04,y:159.34,width:17.2,height:7.44,fill:"#7FCCC6"}}}):i("v-rect",{attrs:{config:{x:291.04,y:159.34,width:17.2,height:7.44,fill:"#F09A9B"}}}),i("v-text",{attrs:{config:{x:228.27,y:196.19,text:"Автомобиль технически исправен.\nВыезд разрешен. Механик",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:302.19,y:204.56,width:46.03,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:304.05,y:198.98,text:"Беляев",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:700,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:228.27,y:215.25,text:"Автомобиль принял. Водитель",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:302.66,y:218.97,width:46.03,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:304.05,y:213.39,text:"Садыков А.Р.",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:700,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:228.27,y:229.2,text:"При возвращении автомобиль ",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:302.19,y:228.27,text:"исправен",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:700,fill:"#253238",textDecoration:"underline"}}}),i("v-text",{attrs:{config:{x:302.19,y:233.85,text:"неисправен",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:228.27,y:247.8,text:"Сдал водитель",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:260.82,y:251.52,width:46.03,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:261.28,y:245.94,text:"Садыков А.Р.",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:700,fill:"#253238"}}}),i("v-text",{attrs:{config:{x:330.09,y:247.8,text:"Принял механик",fontFamily:"Montserrat",fontSize:3.7193,fontStyle:400,fill:"#253238"}}}),i("v-rect",{attrs:{config:{x:367.28,y:251.52,width:46.03,height:.5,fill:"#B0BFC6"}}}),i("v-text",{attrs:{config:{x:367.75,y:245.94,text:"Беляев",fontFamily:"Montserrat",fontSize:4.64912,fontStyle:700,fill:"#253238"}}})],1)],1)],1)},A=[],X={name:"WbBlank",data:function(){return{stageConfig:{width:472,height:260},containerConfig:{x:0,y:0,width:472,height:260,stroke:"#B0BFC6",strokeWidth:1}}},props:["id","dateOf","dateStart","dateFinish","registrationPlate","serial","model","driver","task","mileageLast","fuelLast"],beforeMount:function(){}},J=X,q=Object(f["a"])(J,H,A,!1,null,null,null),V=q.exports,K=(i("d3b7"),i("bc3a")),G=i.n(K),Z=i("863e"),Q=i.n(Z),tt=i("aced");G.a.defaults.headers.common["Content-Type"]="application/json",G.a.defaults.headers.common["Access-Control-Allow-Origin"]="*";var et=function(){var t=Q.a.backendUrl,e=!1,i=G.a.create({baseURL:"".concat(e?"https://uhomuhoproxy.herokuapp.com/"+t:"/api/")}),a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!t.handlerEnabled},s=function(t){return a(t.config)&&e&&tt["a"].open({message:"Ошибка при получении данных!",type:"is-danger",position:"is-bottom-right",queue:!1}),Promise.reject(t)},n=function(t){return t};return i.interceptors.response.use((function(t){return n(t)}),(function(t){return s(t)})),i},it={getWaybills:function(t){var e=Q.a.waybill;return et().get("".concat(e,"\n\t\t\t\t\t\t\t\t\t\t\t?from=").concat(t.from.year,"-").concat(t.from.month,"-").concat(t.from.day,"T07%3A00").concat(t.from.timezone,"\n\t\t\t\t\t\t\t\t\t\t\t&to=").concat(t.to.year,"-").concat(t.to.month,"-").concat(t.to.day,"T19%3A00").concat(t.to.timezone,"\n\t\t\t\t\t\t\t\t\t\t\t&page=").concat(t.page?t.page-1:0,"\n\t\t\t\t\t\t\t\t\t\t\t").concat(t.status?"&status="+t.status:"").concat(t.serial?"&serial="+t.serial:""))},getNewWaybill:function(){var t=Q.a.getWaybillOpen;return et().get(t)},getDrivers:function(t){var e=Q.a.drivers;return et().get("".concat(e,"?keyword=").concat(t))},getPlates:function(t){var e=Q.a.car;return et().get("".concat(e,"?keyword=").concat(t))},getLastWb:function(t){var e=Q.a.waybillLast;return et().get("".concat(e,"?serial=").concat(t.serial,"&status=CLOSE"))},getLastOpenWb:function(t){var e=Q.a.waybillLast;return et().get("".concat(e,"?serial=").concat(t,"&status=OPEN"))},createWaybill:function(t){var e=Q.a.setWaybillOpen;return et().post(e,t)},closeWaybill:function(t){var e=Q.a.setWaybillClose;return et().post("".concat(e),t)},getCloseWaybill:function(t){var e=Q.a.getWaybillClose;return et().get("".concat(e,"?id=").concat(t))},getAutographReport:function(t){var e=Q.a.reportTrack;return et().get("".concat(e,"?start=").concat(t.from.year,"-").concat(t.from.month,"-").concat(t.from.day,"T07%3A00").concat(t.from.timezone,"&end=").concat(t.to.year,"-").concat(t.to.month,"-").concat(t.to.day,"T19%3A00").concat(t.to.timezone))},getWaybillReport:function(t){var e=Q.a.reportWaybill;return et().get("".concat(e,"?id=").concat(t))},getCarsFilter:function(){var t=Q.a.carGroups;return et().get(t)}},at=i("2c4e"),st={name:"CreateWaybill",components:{Calendar:L,Blank:V},data:function(){return{startTime:!1,finishTime:!1,ofTime:!1,isLoading:!1,registrationPlate:null,carSerial:null,driver:null,lastWb:null,mode:"production",plates:null,drivers:null}},computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["e"])("waybills",{waybill:function(t){return t.newWaybill}})),Object(n["c"])("waybills",{listDrivers:"getNewListDrivers",listCar:"getNewListCar"})),{},{unixDateStart:function(){return this.waybill.startPlan?new Date(this.waybill.start).getTime():null},unixDateFinish:function(){return this.waybill.finishPlan?new Date(this.waybill.finishPlan).getTime():null},dateStringOf:function(){var t=new Date(this.waybill.of),e=1=="".concat(t.getDate()).length?"0".concat(t.getDate()):t.getDate();return"".concat(e,".").concat(F.a.num[t.getMonth()],".").concat(t.getFullYear())},fuelStart:function(){return this.lastWb.fuelStart},mileageStart:function(){return this.lastWb.mileageStart},dateTimeStringStart:function(){var t=new Date(this.waybill.startPlan),e=1=="".concat(t.getDate()).length?"0".concat(t.getDate()):t.getDate(),i=1=="".concat(t.getHours()).length?"0".concat(t.getHours()):t.getHours(),a=1=="".concat(t.getMinutes()).length?"0".concat(t.getMinutes()):t.getMinutes();return"".concat(e,".").concat(F.a.num[t.getMonth()],".").concat(t.getFullYear(),",&nbsp;").concat(i,":").concat(a)},dateTimeStringFinish:function(){var t=new Date(this.waybill.finishPlan),e=1=="".concat(t.getDate()).length?"0".concat(t.getDate()):t.getDate(),i=1=="".concat(t.getHours()).length?"0".concat(t.getHours()):t.getHours(),a=1=="".concat(t.getMinutes()).length?"0".concat(t.getMinutes()):t.getMinutes();return"".concat(e,".").concat(F.a.num[t.getMonth()],".").concat(t.getFullYear(),",&nbsp;").concat(i,":").concat(a)},formData:function(){return{id:this.waybill.id?this.waybill.id:null,of:this.waybill.of?this.waybill.of:null,car:this.waybill.car?this.waybill.car:null,serial:this.waybill.car.serial?this.waybill.car.serial:null,workText:this.waybill.workText?this.waybill.workText:null,driverId:this.waybill.driverId?this.waybill.driverId:null,startPlan:this.waybill.startPlan?this.waybill.startPlan:null,finishPlan:this.waybill.finishPlan?this.waybill.finishPlan:null,mileageStart:this.waybill.mileageStart?this.waybill.mileageStart:null,fuelStart:this.waybill.fuelStart?this.waybill.fuelStart:null}}}),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({openWb:function(){var t=this;return Object(U["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.error=!1,t.waybill.id&&t.waybill.of&&t.waybill.car.registrationPlate&&t.waybill.driver.name&&t.waybill.fuelStart&&t.waybill.mileageStart&&t.waybill.workText&&t.waybill.startPlan&&t.waybill.finishPlan){e.next=3;break}return e.abrupt("return",at["a"].open({message:"Не все поля заполнены или заполнены неверно!"}));case 3:t.setNewWaybill({waybill:t.waybill}),t.$router.push({name:"PreviewWaybill"});case 5:case"end":return e.stop()}}),e)})))()}},Object(n["b"])("waybills",{getNewWaybill:"getNewWaybillData"})),Object(n["d"])("waybills",{setListDrivers:"setListDrivers",setListCars:"setListCars",setNewWaybill:"setAllNewWaybillData",setPlate:"setNewWbRegistrationPlate",setDriverName:"setNewWbDriverName",setCar:"setNewWbCar"})),{},{filterDriver:function(t){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.setDriverName(t.target.value),i.next=3,it.getDrivers(t.target.value).then((function(t){return e.drivers=t.data.listDrivers}));case 3:case"end":return i.stop()}}),i)})))()},filterPlates:function(t){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return e.setPlate(t),i.next=3,it.getPlates(t.target.value).then((function(t){return e.plates=t.data.listCar}));case 3:case"end":return i.stop()}}),i)})))()},getLastWb:function(t){var e=this;return Object(U["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,it.getLastWb({serial:t}).then((function(t){e.lastWb=t.data.waybill,e.lastWb&&(e.waybill.mileageStart=e.lastWb.mileageFinish,e.waybill.fuelStart=e.lastWb.fuelFinish)}));case 2:case"end":return i.stop()}}),i)})))()},selectStart:function(t){this.waybill.startPlan=t.date.getTime()},selectFinish:function(t){this.waybill.finishPlan=t.date.getTime()},selectOf:function(t){this.waybill.of=t.date.getTime()},openOf:function(){this.ofTime=!this.ofTime,this.startTime=!1,this.finishTime=!1},openStart:function(){this.startTime=!this.startTime,this.finishTime=!1,this.ofTime=!1},openFinish:function(){this.finishTime=!this.finishTime,this.startTime=!1,this.ofTime=!1},close:function(t){t.target.matches(".date *")||t.target.matches("span.date-of")||(this.startTime&&(this.startTime=!1),this.finishTime&&(this.finishTime=!1),this.ofTime&&(this.ofTime=!1))},changeWidthId:function(){if(this.waybill.id){if(this.waybill.id.length<=5){var t=30*this.waybill.id.length;document.querySelector(".id").style.width="".concat(t,"px")}}else document.querySelector(".id").style.width="0px"},setRegistrationPlate:function(t){this.registrationPlate=t.registrationPlate,this.waybill.serial=t.serial,this.waybill.car=t},setDriver:function(t){this.driver=t.name,this.waybill.driver=t}}),beforeMount:function(){var t=this;this.waybill||(this.isLoading=!0,this.getNewWaybill().then((function(){return t.isLoading=!1}))),this.registrationPlate&&this.getLastWb(this.waybill.serial),this.waybill.driver||(this.waybill.driver={name:null}),this.waybill.car||(this.waybill.car={registrationPlate:null,model:null})}},nt=st,lt=Object(f["a"])(nt,N,Y,!1,null,null,null),rt=lt.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"main"},on:{click:t.close}},[a("div",{staticClass:"container",attrs:{id:"close"}},[a("div",{staticClass:"section"},[a("div",{staticClass:"level"},[t._m(0),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[t._v("№"),a("form",{on:{submit:function(e){e.preventDefault(),t.getWaybill(t.wbId).then((function(){return t.hint=!1}))}}},[a("b-tooltip",{attrs:{active:t.hint,label:"Нажмите Enter",position:"is-bottom",type:"is-white",size:"is-small",multilined:"",always:""}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.wbId,expression:"wbId"}],staticClass:"id",attrs:{placeholder:"ID",type:"number"},domProps:{value:t.wbId},on:{input:[function(e){e.target.composing||(t.wbId=e.target.value)},t.showHint],keyup:t.changeWidthId}})])],1)])]),a("div",{staticClass:"level-right"},[t.closeWaybill?a("div",{staticClass:"level-item"},[t._v("от"),a("span",[t._v(t._s(t.dateStringOf?t.dateStringOf:"XX/XX/XXXX"))])]):t._e()])])])])]),a("hr"),t.closeWaybill?a("div",{staticClass:"wrapper"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"},[a("div",{staticClass:"level-item"},[a("div",{staticClass:"level"},[t._m(1),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.car.registrationPlate,expression:"waybill.car.registrationPlate"}],domProps:{value:t.waybill.car.registrationPlate},on:{input:[function(e){e.target.composing||t.$set(t.waybill.car,"registrationPlate",e.target.value)},function(e){return t.getSerial(t.waybill.car.registrationPlate)}]}}),a("img",{staticClass:"icon",attrs:{src:i("01f7")}}),t.results?a("div",{staticClass:"get-serial"},[a("div",{staticClass:"columns is-multiline is-flex"},t._l(t.results,(function(e){return a("div",{staticClass:"column is-6"},[a("div",{staticClass:"item",on:{click:function(i){return t.getWb(e.serial,e.registrationPlate)}}},[t._v(t._s(e.registrationPlate))])])})),0)]):t._e()])])])])]),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("div",{staticClass:"level"},[t._m(2),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[t._v(t._s(t.waybill.driver.name))])])])])])]),a("hr"),a("table",{staticClass:"table"},[t._m(3),a("tbody",[a("tr",[a("td",{staticClass:"title"},[t._v("Выдано")]),a("td"),a("td"),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.fuelVolume,expression:"waybill.fuelVolume"}],domProps:{value:t.waybill.fuelVolume},on:{input:function(e){e.target.composing||t.$set(t.waybill,"fuelVolume",e.target.value)}}})])]),a("tr",[a("td",{staticClass:"title"},[t._v("Выезд")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.mileageStart,expression:"waybill.mileageStart"}],domProps:{value:t.waybill.mileageStart},on:{input:function(e){e.target.composing||t.$set(t.waybill,"mileageStart",e.target.value)}}})]),a("td",{staticClass:"date-start"},[a("span",{domProps:{innerHTML:t._s(t.dateTimeStringStart)},on:{click:function(e){return t.toggleCalStart()}}}),t.waybill.startFact?a("Calendar",{class:t.showCalStart?"":"is-hidden",attrs:{range:!1,time:!0,date:new Date(t.waybill.startFact)},on:{select:t.setTimeStart}}):t._e()],1),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.fuelStart,expression:"waybill.fuelStart"}],domProps:{value:t.waybill.fuelStart},on:{input:function(e){e.target.composing||t.$set(t.waybill,"fuelStart",e.target.value)}}})])]),a("tr",[a("td",{staticClass:"title"},[t._v("Возвращение")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.milleageFinish,expression:"milleageFinish"}],staticClass:"finish",attrs:{type:"number",placeholder:"ЗАПОЛНИ!"},domProps:{value:t.milleageFinish},on:{keyup:t.changeWidth,input:function(e){e.target.composing||(t.milleageFinish=e.target.value)}}})]),a("td",{staticClass:"date-finish"},[a("span",{domProps:{innerHTML:t._s(t.dateTimeStringFinish)},on:{click:t.toggleCalEnd}}),t.waybill.finishFact?a("Calendar",{class:t.showCalEnd?"":"is-hidden",attrs:{range:!1,time:!0,date:new Date(t.waybill.finishFact)},on:{select:t.setTimeFinish}}):t._e()],1),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.fuelFinish,expression:"waybill.fuelFinish"}],domProps:{value:t.waybill.fuelFinish},on:{input:function(e){e.target.composing||t.$set(t.waybill,"fuelFinish",e.target.value)}}})])]),a("tr",[a("td",{staticClass:"title"},[t._v("Общий пробег/расход")]),a("td",[a("span",[t._v(t._s(t.milleageFinish&&t.milleageFinish-t.waybill.mileageStart>0?(t.milleageFinish-t.waybill.mileageStart).toLocaleString():null))])]),a("td"),a("td",[a("span",[t._v(t._s(t.totalFuel?t.totalFuel:""))])])])])]),a("hr"),a("p",{staticClass:"title"},[t._v("Выполнение задания:")]),a("p",{staticClass:"subtitle"},[t._v("Объект УДС")]),a("div",{staticClass:"inputs-wrapper"},[t._l(t.uts,(function(e,s){return a("div",{staticClass:"input-wrapper"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.uts[s],expression:"uts[key]"}],domProps:{value:t.uts[s]},on:{input:function(e){e.target.composing||t.$set(t.uts,s,e.target.value)}}}),s>0?a("img",{attrs:{src:i("0d45")},on:{click:function(e){return t.removeUts(s)}}}):t._e()])})),a("img",{attrs:{src:i("76a4")},on:{click:t.addUts}})],2),a("div",{staticClass:"button is-pulled-right",on:{click:t.closeWb}},[t._v("Закрыть")])]):t._e()])])])},ct=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",[t._v("Закрываем"),i("br"),t._v("путевой лист")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v("Гос. номер:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v("Водитель:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th"),i("th",[t._v("Спидометр")]),i("th",[t._v("Дата/время/час")]),i("th",[t._v("Горючее")])])])}],ut=(i("a434"),{name:"CloseWaybill",data:function(){return{startTime:!1,finishTime:!1,isLoading:!1,wbId:this.id,milleageFinish:null,uts:[""],showResults:!0,results:null,showCalStart:!1,showCalEnd:!1,hint:!1}},components:{Calendar:L},props:{id:{default:null}},computed:Object(_["a"])(Object(_["a"])({},Object(n["c"])("waybills",{closeWaybill:"getCloseWaybill"})),{},{waybill:function(){return this.closeWaybill&&this.closeWaybill.waybill?this.closeWaybill.waybill:null},totalFuel:function(){return parseInt(this.waybill.fuelStart)+parseInt(this.waybill.fuelVolume)-parseInt(this.waybill.fuelFinish)},dateStringOf:function(){if(this.waybill){var t=new Date(this.waybill.of),e=1=="".concat(t.getDate()).length?"0".concat(t.getDate()):t.getDate();return"".concat(e,".").concat(F.a.num[t.getMonth()],".").concat(t.getFullYear())}return null},dateTimeStringStart:function(){var t=new Date(this.waybill.startFact),e=1=="".concat(t.getDate()).length?"0".concat(t.getDate()):t.getDate(),i=1=="".concat(t.getHours()).length?"0".concat(t.getHours()):t.getHours(),a=1=="".concat(t.getMinutes()).length?"0".concat(t.getMinutes()):t.getMinutes();return"".concat(e,".").concat(F.a.num[t.getMonth()],".").concat(t.getFullYear(),",&nbsp;").concat(i,":").concat(a)},dateTimeStringFinish:function(){var t=new Date(this.waybill.finishFact),e=1=="".concat(t.getDate()).length?"0".concat(t.getDate()):t.getDate(),i=1=="".concat(t.getHours()).length?"0".concat(t.getHours()):t.getHours(),a=1=="".concat(t.getMinutes()).length?"0".concat(t.getMinutes()):t.getMinutes();return"".concat(e,".").concat(F.a.num[t.getMonth()],".").concat(t.getFullYear(),",&nbsp;").concat(i,":").concat(a)}}),methods:Object(_["a"])(Object(_["a"])({showHint:function(){var t=this;this.hint=!1,setTimeout((function(){t.hint=!0}),5e3)}},Object(n["b"])("waybills",{getWaybill:"apiCloseWaybill",getWbBySerial:"apiLastOpenWb"})),{},{setTimeStart:function(t){this.waybill.startFact=t.date},setTimeFinish:function(t){this.waybill.finishFact=t.date},toggleCalStart:function(){this.showCalStart=!this.showCalStart},toggleCalEnd:function(){this.showCalEnd=!this.showCalEnd},getSerial:function(t){var e=this;0!==t.length?it.getPlates(t).then((function(t){0==t.data.listCar.length?e.results=!1:e.results=t.data.listCar})):this.results=!1},getWb:function(t,e){var i=this;this.getWbBySerial(t).then((function(){return i.results=null})),this.waybill.car.registrationPlate=e},closeWb:function(){var t=this,e={};if(e.id=this.wbId||this.waybill.id,e.of=this.waybill.of,e.fuelVolume=this.waybill.fuelVolume,e.mileageStart=this.waybill.mileageStart,e.mileageFinish=this.milleageFinish,e.mileageTotal=this.milleageFinish-this.waybill.mileageStart,e.fuelTotal=this.totalFuel,e.startFact=this.waybill.startFact,e.finishFact=this.waybill.finishFact,e.status="CLOSE",e.workText=this.uts,e.mileageTotal<0)return at["a"].open({message:"Разница спидометра старт/финиш должна быть положительной!"});for(var i in e)if(!e[i])return at["a"].open({message:"Заполните все поля!"});for(var a in e.workText)if(!e.workText[a])return at["a"].open({message:"Заполните все поля!"});this.waybill.mileageTotal=e.mileageTotal,it.closeWaybill(this.waybill).then((function(){at["a"].open({message:"Путевой лист успешно закрыт!"}),t.$router.push("/waybills")})).catch((function(t){return console.error(t)}))},addUts:function(){this.uts.push("")},removeUts:function(t){this.uts.splice(t,1)},changeWidth:function(){if(this.milleageFinish){var t=12*this.milleageFinish.length;document.querySelector(".finish").style.width="".concat(t,"px"),this.milleageFinish=this.milleageFinish.toLocaleString()}else document.querySelector(".finish").style.width="0px"},changeWidthId:function(){if(this.wbId){if(this.wbId.length<=5){var t=30*this.wbId.length;document.querySelector(".id").style.width="".concat(t,"px")}}else document.querySelector(".id").style.width="0px"},close:function(t){t.target.matches(".dropdown *")||(this.openedDropdown=!1),t.target.matches(".date-start *")||(this.showCalStart=!1),t.target.matches(".date-finish *")||(this.showCalEnd=!1)}}),beforeMount:function(){var t=this;this.id&&(this.isLoading=!0,this.getWaybill(this.id).then((function(){return t.isLoading=!1}))),this.waybill&&this.waybill.id&&(this.wbId=this.waybill.id)}}),ft=ut,dt=Object(f["a"])(ft,ot,ct,!1,null,null,null),ht=dt.exports,gt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"container",attrs:{id:"preview"},on:{click:t.close}},[i("div",{staticClass:"section"},[t._m(0),i("hr"),t.waybill?i("div",{staticClass:"container",attrs:{id:"wb"}},[i("div",{staticClass:"head"},[i("p",{staticClass:"title"},[t._v("ПУТЕВОЙ ЛИСТ")]),i("div",{staticClass:"num flex-input"},[i("p",[t._v("грузового автомобиля")]),i("input"),i("p",{staticClass:"has-text-weight-bold"},[t._v("№")]),i("input",{domProps:{value:t.waybill.id},on:{input:t.setId}})]),i("div",{staticClass:"date flex-input"},[i("input",{attrs:{type:"number"},domProps:{value:t.dayOf},on:{input:t.setDay}}),i("div",{staticClass:"month"},[i("p",{staticClass:"is-lowercase",on:{click:t.toggleMonthSelector}},[t._v(" "+t._s(t.monthOf))]),i("div",{staticClass:"month-selector dropdown",class:t.showMonthSelector?"":"is-hidden"},t._l(t.monthList,(function(e){return i("p",{key:e.num,class:e.num==t.monthOfNum?"selected":"",on:{click:function(i){return t.setMonth(e.num)}}},[t._v(t._s(e.name))])})),0)]),i("input",{attrs:{type:"number"},domProps:{value:t.yearOf},on:{input:t.setYear}}),i("p",[t._v("года")])])]),t._m(1),i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-parent"},[i("div",{staticClass:"tile is-child"},[i("div",{staticClass:"model flex-input"},[i("p",[t._v("Марка автомобиля")]),i("p",{staticClass:"info"},[t._v(t._s(t.waybill.car.model))])]),i("div",{staticClass:"plate flex-input"},[i("p",[t._v("Государственный номерной знак")]),i("input",{domProps:{value:t.waybill.car.registrationPlate},on:{input:t.getSerial}}),t.plates?i("div",{staticClass:"plates dropdown"},t._l(t.plates,(function(e){return i("p",{class:e.serial==t.waybill.car.serial?"selected":null,on:{click:function(i){t.setCar(e),t.plates=null}}},[t._v(" "+t._s(e.registrationPlate))])})),0):t._e()]),i("div",{staticClass:"driver flex-input"},[i("p",[t._v("Водитель")]),i("input",{domProps:{value:t.waybill.driver.name},on:{input:t.getDriver}}),t.drivers?i("div",{staticClass:"drivers dropdown"},t._l(t.drivers,(function(e){return i("p",{class:e.id==t.waybill.driver.id?"selected":null,on:{click:function(i){t.setDriver(e),t.drivers=null}}},[t._v(t._s(e.name))])})),0):t._e()]),i("div",{staticClass:"ticket flex-input"},[i("p",[t._v("Удостоверение №")]),i("p",{staticClass:"info"},[t._v(t._s(t.waybill.serial))]),i("p",[t._v("Класс")]),i("p",{staticClass:"info"})]),t._m(2),t._m(3),t._m(4),t._m(5),t._m(6),t._m(7),i("table",{staticClass:"table is-bordered is-fullwidth"},[t._m(8),i("tr",[i("td",[i("input",{domProps:{value:t.waybill.workText},on:{input:t.setTask}})]),i("td"),i("td")]),t._m(9)]),t._m(10),t._m(11),t._m(12)]),i("div",{staticClass:"tile is-child"},[t._m(13),i("table",{staticClass:"first table is-fullwidth is-bordered"},[t._m(14),t._m(15),i("tr",[i("td",[t._v("выезд из гаража")]),i("td",[i("table",[i("tr",{staticClass:"time"},[i("td",[t._v(t._s(t.startDate))]),i("td",[t._v(t._s(t.startMonth))]),i("td",[t._v(t._s(t.startHours))]),i("td",[t._v(t._s(t.startMinutes))])])])]),i("td"),i("td",[i("input",{domProps:{value:t.waybill.mileageStart}})]),i("td")]),i("tr",[i("td",[t._v("возвращение в гараж")]),i("td",[i("table",[i("tr",{staticClass:"time"},[i("td",[t._v(t._s(t.finishDate))]),i("td",[t._v(t._s(t.finishMonth))]),i("td",[t._v(t._s(t.finishHours))]),i("td",[t._v(t._s(t.finishMinutes))])])])]),i("td"),i("td"),i("td")])]),i("table",{staticClass:"second table is-bordered is-fullwidth"},[t._m(16),i("tr",[i("td",[i("table",{staticClass:"table is-fullwidth"},[i("tr",[t._m(17),i("td",{staticClass:"given"}),i("td",{staticClass:"remain"},[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td",[i("input",{domProps:{value:t.waybill.fuelStart},on:{input:t.setFuelStart}})]),i("td")])])]),i("td",{staticClass:"passoff"}),i("td",{staticClass:"factor"})])])]),t._m(18)]),t._m(19),t._m(20)]),t._m(21),i("div",{staticClass:"take-driver flex-input"},[i("p",[t._v("Автомобиль принял. Водитель")]),i("p",{staticClass:"info is-capitalized"},[t._v(t._s(t.waybill.driver.name))])]),t._m(22),i("div",{staticClass:"wb-footer flex-input"},[i("p",[t._v("Сдал водитель")]),i("p",{staticClass:"info is-capitalized"},[t._v(t._s(t.waybill.driver.name))]),i("p",[t._v("Принял механик")]),i("p",{staticClass:"info"})])])])])]):t._e(),i("div",{staticClass:"button is-pulled-right",on:{click:t.open}},[t._v("Создать")])])])])},mt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level"},[i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",[t._v("Предварительный"),i("br"),t._v("просмотр")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"organisation flex-input"},[i("p",[t._v("Организация")]),i("p",{staticClass:"info"},[t._v("МБУ Кировский ДЭУ г. Екатеринбург, ул. Вишневая, 69, тел. 374-45-99")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"license-card flex-input"},[i("p",[t._v("Лицензионная карточка")]),i("p",{staticClass:"info"},[t._v("стандартная")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"register-num flex-input"},[i("p",[t._v("Регистрационный №")]),i("p",{staticClass:"info"}),i("p",[t._v("Серия")]),i("p",{staticClass:"info"}),i("p",[t._v("№")]),i("p",{staticClass:"info"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trailer flex-input"},[i("p",[t._v("Прицеп 1")]),i("p",{staticClass:"info"}),i("p",[t._v("Гос. номерной знак")]),i("p",{staticClass:"info"}),i("p",[t._v("Гаражный номер")]),i("p",{staticClass:"info"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"trailer flex-input"},[i("p",[t._v("Прицеп 2")]),i("p",{staticClass:"info"}),i("p",[t._v("Гос. номерной знак")]),i("p",{staticClass:"info"}),i("p",[t._v("Гаражный номер")]),i("p",{staticClass:"info"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"faces flex-input"},[i("p",[t._v("Сопровождающие лица:")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pre-table-title"},[i("p",{staticClass:"is-uppercase"},[t._v("ЗАДАНИЕ ВОДИТЕЛЮ")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("в чье распоряжение"),i("br"),t._v("(наименование и адрес заказчика)")]),i("td",[i("p",[t._v("время, ч., мин.")]),i("table",[i("tr",[i("td",[t._v("прибытия")]),i("td",[t._v("убытия")])])])]),i("td",[i("p",[t._v("количество")]),i("table",[i("tr",[i("td",[t._v("часов")]),i("td",[t._v("ездок")])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td"),i("td"),i("td")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"check flex-input"},[i("p",[t._v(" Водительское удостоверение проверил,"),i("br"),t._v("задание выдал, выдать горючего")]),i("p",{staticClass:"info"}),i("p",[t._v("литров")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dispetcher flex-input"},[i("p",[t._v("Диспетчер")]),i("p",{staticClass:"info"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"health flex-input"},[i("p",[t._v(" Водитель по состоянию здоровья"),i("br"),t._v("к управлению допущен")]),i("p",{staticClass:"info"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"table-title"},[i("p",[t._v("Работа водителя и автомобиля")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("операция")]),i("td",[i("p",[t._v("время по графику")]),i("table",[i("tr",[i("td",[t._v("число")]),i("td",[t._v("месяц")]),i("td",[t._v("час")]),i("td",[t._v("мин")])])])]),i("td",[t._v(" нулевой"),i("br"),t._v("пробег,"),i("br"),t._v("км")]),i("td",[t._v("показание"),i("br"),t._v("спидометра,"),i("br"),t._v("км")]),i("td",[t._v("время фактическое"),i("br"),t._v("число, месяц, ч., мин")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[t._v("1")]),i("td",[i("table",[i("tr",[i("td",[t._v("2")]),i("td",[t._v("3")]),i("td",[t._v("4")]),i("td",[t._v("5")])])])]),i("td",[t._v("6")]),i("td",[t._v("7")]),i("td",[t._v("8")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[i("p",{staticClass:"title"},[t._v("Движение горючего")]),i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td",{staticClass:"other"},[i("p",[t._v("прочее")]),i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td",[t._v("марка")]),i("td",[t._v(" код"),i("br"),t._v("марки")])])])]),i("td",{staticClass:"given"},[t._v("выдано,"),i("br"),t._v("л")]),i("td",{staticClass:"remain"},[i("p",[t._v("остаток при")]),i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td",[t._v("выезде,"),i("br"),t._v("л")]),i("td",[t._v("возвращении,"),i("br"),t._v("л")])])])]),i("td",{staticClass:"passoff"},[t._v("сдано,"),i("br"),t._v("л")]),i("td",{staticClass:"factor"},[t._v("коэффициент"),i("br"),t._v("изменения"),i("br"),t._v("нормы")])])])]),i("td",[i("p",[t._v(" время работы,"),i("br"),t._v("ч. мин.")]),i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td",[i("p",[t._v("спецобору"),i("br"),t._v("дования")])]),i("td",[i("p",[t._v("двигателя")])])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{staticClass:"other"},[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td"),i("td")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",[i("table",{staticClass:"table is-fullwidth right-table"},[i("tr",[i("td"),i("td")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td",{staticClass:"other"},[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td"),i("td")])])]),i("td",{staticClass:"given"}),i("td",{staticClass:"remain"},[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td"),i("td")])])]),i("td",{staticClass:"passoff"}),i("td",{staticClass:"factor"})])])]),i("td",[i("table",{staticClass:"table is-fullwidth right-table"},[i("tr",[i("td"),i("td")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("tr",[i("td",[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td",{staticClass:"other"},[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td"),i("td")])])]),i("td",{staticClass:"given"}),i("td",{staticClass:"remain"},[i("table",{staticClass:"table is-fullwidth"},[i("tr",[i("td"),i("td")])])]),i("td",{staticClass:"passoff"}),i("td",{staticClass:"factor"})])])]),i("td",[i("table",{staticClass:"table is-fullwidth right-table"},[i("tr",[i("td"),i("td")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"accept flex-input"},[i("p",[t._v(" Автомобиль технически исправен."),i("br"),t._v("Выезд разрешен. Механик")]),i("p",{staticClass:"info"})])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"well flex-input"},[i("p",[t._v("При возвращении автомобиль ")]),i("p",{staticClass:"info"})])}],vt={name:"WaybillPreview",data:function(){return{plates:null,drivers:null,showMonthSelector:!1,monthList:[{num:1,name:"Январь"},{num:2,name:"Февраль"},{num:3,name:"Март"},{num:4,name:"Апрель"},{num:5,name:"Май"},{num:6,name:"Июнь"},{num:7,name:"Июль"},{num:8,name:"Август"},{num:9,name:"Сентябрь"},{num:10,name:"Октябрь"},{num:11,name:"Ноябрь"},{num:12,name:"Декабрь"}],errors:{dateErr:!0}}},computed:Object(_["a"])(Object(_["a"])({},Object(n["e"])("waybills",{waybill:function(t){return t.newWaybill}})),{},{dayOf:function(){return new Date(this.waybill.of).getDate()},monthOf:function(){return F.a.string[new Date(this.waybill.of).getMonth()].toLowerCase()},monthOfNum:function(){return new Date(this.waybill.of).getMonth()+1},yearOf:function(){return new Date(this.waybill.of).getFullYear()},startDate:function(){return new Date(this.waybill.startPlan).getDate()},startMonth:function(){return F.a.num[new Date(this.waybill.startPlan).getMonth()]},startHours:function(){return new Date(this.waybill.startPlan).getHours()},startMinutes:function(){return new Date(this.waybill.startPlan).getMinutes()},finishDate:function(){return new Date(this.waybill.finishPlan).getDate()},finishMonth:function(){return F.a.num[new Date(this.waybill.finishPlan).getMonth()]},finishHours:function(){return new Date(this.waybill.finishPlan).getHours()},finishMinutes:function(){return new Date(this.waybill.finishPlan).getMinutes()}}),methods:Object(_["a"])(Object(_["a"])({},Object(n["d"])("waybills",{setId:"setNewWbId",setPlate:"setNewWbRegistrationPlate",setOf:"setNewWbDateOf",setCar:"setNewWbCar",setDriverName:"setNewWbDriverName",setDriver:"setNewWbDriver",setTask:"setNewWbTask",setFuelStart:"setNewWbFuelStart"})),{},{setDay:function(t){t.target.value>31?(at["a"].open({type:"is-error",message:"Слишком большое число!",queue:!1}),this.errors.dateErr=!0):(this.setOf(new Date("".concat(this.yearOf,"-").concat(this.monthOfNum,"-").concat(t.target.value)).getTime()),this.errors.dateErr=!1)},setMonth:function(t){this.setOf(new Date("".concat(this.yearOf,"-").concat(t,"-").concat(this.dayOf)).getTime())},setYear:function(t){t.target.value<1970||this.setOf(new Date("".concat(t.target.value,"-").concat(this.monthOfNum,"-").concat(this.dayOf)).getTime())},toggleMonthSelector:function(){this.showMonthSelector=!this.showMonthSelector},getSerial:function(t){var e=this,i=t.target.value;this.setPlate(t),0!==i.length?it.getPlates(i).then((function(t){0==t.data.listCar.length?e.plates=null:e.plates=t.data.listCar})):this.plates=null},getDriver:function(t){var e=this,i=t.target.value;this.setDriverName(i),0!==i.length&&it.getDrivers(i).then((function(t){0==t.data.listDrivers.length?e.drivers=null:e.drivers=t.data.listDrivers}))},open:function(){it.createWaybill(this.waybill).then((function(t){at["a"].open({message:t.data.message}),console.log(t)})).catch((function(t){console.log(t)}))},close:function(t){t.target.matches(".month-selector *, .month *")||this.showMonthSelector&&(this.showMonthSelector=!1),t.target.matches(".month-selector *, .month *")||this.showMonthSelector&&(this.showMonthSelector=!1)}})},pt=vt,yt=(i("bf6c"),Object(f["a"])(pt,gt,mt,!1,null,"372c0d5c",null)),bt=yt.exports,wt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("router-view")],1)},Ct=[],_t={name:"Reports"},xt=_t,Ft=Object(f["a"])(xt,wt,Ct,!1,null,null,null),Dt=Ft.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{click:t.close}},[i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"level"},[t._m(0),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("table",[i("tr",[i("td",{class:"year"==t.filterType?"active":null,on:{click:function(e){t.setFilter("year"),t.getWaybills(0)}}},[t._v("весь год")]),i("td",{class:"yest"==t.filterType?"active":null,on:{click:function(e){t.setFilter("yest"),t.getWaybills(0)}}},[t._v("вчера")])]),i("tr",[i("td",{class:"month"==t.filterType?"active":null,on:{click:function(e){t.setFilter("month"),t.getWaybills(0)}}},[t._v("месяц")]),i("td",{class:"today"==t.filterType?"active":null,on:{click:function(e){t.setFilter("today"),t.getWaybills(0)}}},[t._v("сегодня")])]),i("tr",[i("td",{class:"week"==t.filterType?"active":null,on:{click:function(e){t.setFilter("week"),t.getWaybills(0)}}},[t._v("неделя")]),i("td",{class:"range"==t.filterType?"active":null,on:{click:function(e){t.setFilter("range"),t.getWaybills(0)}}},[t._v("период")])])])]),i("div",{staticClass:"level-item"},[i("div",{staticClass:"wrapper from",on:{click:t.openFrom}},[i("p",[t._v(t._s(t.stringFrom))]),i("Calendar",{class:t.showFrom?null:"is-hidden",attrs:{time:!1,date:t.dateFrom},on:{select:t.setFrom}})],1),i("div",{staticClass:"wrapper to",on:{click:t.openTo}},[i("p",[t._v(t._s(t.stringTo))]),i("Calendar",{class:t.showTo?null:"is-hidden",attrs:{time:!1,date:t.dateTo},on:{select:t.setTo}})],1)])])]),i("hr"),t.waybills?i("Table",{attrs:{waybills:t.waybills.listWaybill}}):t._e()],1)])])},kt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",[t._v(" Отчет по"),i("br"),t._v("путевым листам")])])])}],jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"reports_table"},on:{click:t.close}},[a("table",{staticClass:"table"},[a("thead",[a("tr",[a("th",{staticClass:"id"},[t._v("№")]),a("th",{staticClass:"car"},[a("div",{staticClass:"dropdown",class:t.openedCarDropdown?"is-active":null,on:{click:t.toggleCarDropdown}},[a("p",[t._v("Машина")]),a("img",{staticClass:"icon",attrs:{src:i("6568")}}),t.openedCarDropdown&&t.carFilter?a("div",{staticClass:"menu"},[a("div",{staticClass:"tile is-ancestor"},[a("div",{staticClass:"tile is-parent"},[a("div",{staticClass:"tile is-child"},[a("div",{staticClass:"title"},[t._v("Тип ТС")]),t._l(t.carFilter,(function(e,i){return a("div",{staticClass:"field"},[a("div",{staticClass:"choose",class:i==t.choosenCar?"selected":null,on:{mouseover:function(e){return t.setCar(i)}}},[t._v(t._s(i))])])})),a("div",{staticClass:"field"},[a("div",{staticClass:"choose",class:null==t.choosenCar?"selected":null,on:{click:function(e){return t.setCar(null)}}},[t._v("Все")])])],2),a("div",{staticClass:"tile is-child is-8"},[a("div",{staticClass:"title"},[t._v("Гос. номер")]),a("div",{staticClass:"columns is-flex is-multiline"},t._l(t.carFilter[t.choosenCar],(function(e){return t.choosenCar?a("div",{staticClass:"column is-4"},[a("div",{staticClass:"column-container num",class:t.filter.serial==e.serial?"selected":null,on:{click:function(i){return t.setSerial(e.serial)}}},[t._v(t._s(e.registrationPlate))])]):t._e()})),0)])])])]):t._e()])]),t._m(0),t._m(1),a("th",{staticClass:"status"},[a("div",{staticClass:"dropdown",class:t.openedDropdown?"is-active":null,on:{click:t.openDropdown}},[a("p",[t._v("Статус")]),a("img",{staticClass:"icon",attrs:{src:i("6568")}}),t.openedDropdown?a("div",{staticClass:"menu"},t._l(t.statusList,(function(e){return a("div",{staticClass:"field"},[a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.filter.status,expression:"filter.status"}],attrs:{type:"checkbox",id:e.id},domProps:{value:e.name,checked:Array.isArray(t.filter.status)?t._i(t.filter.status,e.name)>-1:t.filter.status},on:{input:t.setStatus,change:function(i){var a=t.filter.status,s=i.target,n=!!s.checked;if(Array.isArray(a)){var l=e.name,r=t._i(a,l);s.checked?r<0&&t.$set(t.filter,"status",a.concat([l])):r>-1&&t.$set(t.filter,"status",a.slice(0,r).concat(a.slice(r+1)))}else t.$set(t.filter,"status",n)}}}),a("label",{staticClass:"checkbox",attrs:{for:e.id}},[t._v(t._s(e.text)),a("img",{attrs:{src:("development"==t.mode?"/":t.$userConfig.publicPath)+"icons/check.svg"}})])])])})),0):t._e()])])])]),t.waybills&&0!==t.waybills.length?a("tbody",t._l(t.waybills,(function(e){return a("tr",{class:e.status.class,on:{click:function(i){"CLOSE"==e.status.name&&t.to(e.id)}}},[a("td",{staticClass:"id",class:e.status.class},[t._v(t._s(e.id))]),a("td",{staticClass:"car is-paddingless"},[a("table",[a("tr",[a("td",[t._v(t._s(e.car.model))]),a("td",[t._v(t._s(e.car.registrationPlate))])])])]),a("td",{staticClass:"fuel is-paddingless"},[a("table",[a("tr",[a("td",[t._v(t._s(t.waybillFuelDown(e)?t.waybillFuelDown(e):" "))]),a("td",[t._v(t._s(e.trackFuelDown?e.trackFuelDown:" "))])])])]),a("td",{staticClass:"mileage is-paddingless"},[a("table",[a("tr",[a("td",[t._v(t._s(e.mileageTotal))]),a("td",[t._v(t._s(e.trackMileage))])])])]),a("td",{staticClass:"status",class:e.status.class},[t._v(t._s(e.status.text))])])})),0):a("tbody",{staticClass:"no-data"},[a("tr",[a("td",{staticClass:"id"},[a("b-skeleton",{attrs:{animated:!1}})],1),a("td",{staticClass:"car"},[a("b-skeleton",{attrs:{animated:!1}})],1),a("td",{staticClass:"fuel"},[a("b-skeleton",{attrs:{animated:!1}})],1),a("td",{staticClass:"mileage"},[a("b-skeleton",{attrs:{animated:!1}})],1),a("td",{staticClass:"status"},[a("b-skeleton",{attrs:{animated:!1}})],1)])])]),0==t.waybills.length?a("div",{staticClass:"content"},[a("h4",{staticClass:"has-text-centered"},[t._v("Нет подходящих данных")])]):t._e()])},Mt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",{staticClass:"fuel is-paddingless"},[t._v("Расход ГСМ, л"),i("table",[i("tr",[i("td",[t._v("по путевому листу")]),i("td",[t._v("по автографу")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("th",{staticClass:"mileage is-paddingless"},[t._v("Пройдено, км"),i("table",[i("tr",[i("td",[t._v("по путевому листу")]),i("td",[t._v("по автографу")])])])])}],Tt={name:"waybillsReportsTable",data:function(){return{mode:"production",openedDropdown:!1,openedCarDropdown:!1,choosenCar:null,filter:{status:["CLOSE"],serial:null},statusFilter:"CLOSE",statusList:[{name:"CLOSE",text:"Закрыт",id:"close"},{name:"OPEN",text:"Открыт",id:"open"},{name:"CHECK",text:"Проверка",id:"check"}]}},props:["waybills"],computed:Object(_["a"])({},Object(n["c"])("waybills",{carFilter:"getCarsFilter"})),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["d"])("waybills",["setCarFilter"])),Object(n["b"])("waybills",{getWaybills:"getWaybills",apiCarsFilter:"apiCarsFilter"})),{},{to:function(t){this.$router.push("/reports/waybill/".concat(t))},waybillFuelDown:function(t){return parseInt(t.fuelStart)+parseInt(t.fuelVolume)-parseInt(t.fuelFinish)},setCar:function(t){var e=this;this.filter.serial=t,this.choosenCar=t,null==t&&setTimeout((function(){e.getWaybills(e.filter).then((function(){e.openedCarDropdown=!1}))}))},setStatus:function(){var t=this;setTimeout((function(){t.getWaybills(t.filter)}))},setSerial:function(t){var e=this;this.filter.serial=t,setTimeout((function(){e.getWaybills(e.filter)})),this.openedCarDropdown=!1},openDropdown:function(t){t.target.matches(".menu *")||(this.openedDropdown=!this.openedDropdown)},close:function(t){t.target.matches(".dropdown *")||(this.openedDropdown=!1,this.openedCarDropdown=!1)},toggleCarDropdown:function(t){t.target.matches(".menu *")||(this.openedCarDropdown=!this.openedCarDropdown)}}),beforeMount:function(){this.apiCarsFilter(),this.getWaybills(this.filter)}},Wt=Tt,Pt=Object(f["a"])(Wt,jt,Mt,!1,null,null,null),Ot=Pt.exports,zt={name:"WaybillsReports",components:{Table:Ot,Calendar:L},data:function(){return{isLoading:!1,showTo:!1,showFrom:!1}},computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["c"])("waybills",{waybills:"waybills",total:"total",filterType:"getFilterType"})),Object(n["e"])("waybills",{dateTo:function(t){return t.dateTo},dateFrom:function(t){return t.dateFrom}})),{},{stringFrom:function(){return"С ".concat(this.dateFrom.getDate()," ").concat(F.a.string[this.dateFrom.getMonth()]," ").concat(this.dateFrom.getFullYear())},stringTo:function(){return"по ".concat(this.dateTo.getDate()," ").concat(F.a.string[this.dateTo.getMonth()]," ").concat(this.dateTo.getFullYear())}}),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["b"])("waybills",["waybillsSort","getWaybills","setDates"])),Object(n["d"])("waybills",{setDateTo:"dateTo",setDateFrom:"dateFrom",setFilter:"setFilterType"})),{},{setTo:function(t){var e=this;this.setDateTo(t.date),setTimeout((function(){e.getWaybills()}),50)},setFrom:function(t){var e=this;this.setDateFrom(t.date),setTimeout((function(){e.getWaybills()}),50)},openTo:function(t){(t.target.matches(".wrapper.to p")||t.target.matches(".wrapper.to"))&&(this.showTo=!this.showTo)},openFrom:function(t){(t.target.matches(".wrapper.from p")||t.target.matches(".wrapper.from"))&&(this.showFrom=!this.showFrom)},close:function(t){t.target.matches(".calendar *, .wrapper.to *, .wrapper.from *")||(this.showTo&&(this.showTo=!1),this.showFrom&&(this.showFrom=!1))}}),mounted:function(){var t=this;this.waybillsSortData||(this.isLoading=!0,this.getWaybills().then((function(){return t.isLoading=!1})))},beforeMount:function(){this.setDates()}},Bt=zt,Lt=(i("9057"),Object(f["a"])(Bt,St,kt,!1,null,"81406e90",null)),Et=Lt.exports,Rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"main"}},[i("div",{staticClass:"container",attrs:{id:"report"}},[i("div",{staticClass:"section"},[i("div",{staticClass:"level"},[t._m(0),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("div",{staticClass:"level"},[i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[t._v("№"),i("form",{on:{submit:function(e){e.preventDefault(),t.getWaybill(t.wbId).then((function(){return t.hint=!1}))}}},[i("b-tooltip",{attrs:{active:t.hint,label:"Нажмите Enter",position:"is-bottom",type:"is-white",size:"is-small",multilined:"",always:""}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.wbId,expression:"wbId"}],staticClass:"id",attrs:{placeholder:"ID",type:"number"},domProps:{value:t.wbId},on:{input:[function(e){e.target.composing||(t.wbId=e.target.value)},t.showHint],keyup:t.changeWidthId}})],1)])]),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[t._v("от"),i("span",[t._v(t._s(t.dateStringOf?t.dateStringOf:"XX.XX.XXXX"))])])])])])])]),i("hr"),t.waybill?i("div",{staticClass:"wrapper"},[i("div",{staticClass:"item"},[i("p",[t._v("Гос. номер:")]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.waybill.car.registrationPlate,expression:"waybill.car.registrationPlate"}],staticClass:"input",attrs:{type:"text"},domProps:{value:t.waybill.car.registrationPlate},on:{input:function(e){e.target.composing||t.$set(t.waybill.car,"registrationPlate",e.target.value)}}}),i("div",{staticClass:"search is-hidden"})]),i("div",{staticClass:"item"},[i("p",[t._v("Водитель: "+t._s(t.waybill.driver.name))])])]):t._e(),t.waybill?i("hr"):t._e(),t.waybillReport?i("Chart",{attrs:{items:t.chartData,line:t.waybillReport.lineConfig,steps:t.waybillReport.steps}}):t._e(),t.waybill?i("div",{staticClass:"tile is-ancestor"},[i("div",{staticClass:"tile is-parent is-paddingless"},[i("div",{staticClass:"tile is-child"},[i("p",{staticClass:"title"},[t._v("Сравнение данных")]),i("table",{staticClass:"table is-fullwidth"},[t._m(1),i("tbody",[i("tr",[i("td",{staticClass:"name"},[t._v("Расход топлива")]),i("td",[t._v(t._s(t.waybill.trackFuelDown.toFixed(2)))]),i("td",[t._v(t._s(t.totalWaybillFuel))])]),i("tr",[i("td",{staticClass:"name"},[t._v("Пробег")]),i("td",[t._v(t._s(t.waybill.trackMileage.toFixed(2)))]),i("td",[t._v(t._s(t.waybill.mileageTotal))])]),i("tr",[i("td",{staticClass:"name"},[t._v("Время")]),i("td",[t._v(t._s(t.trackTimeDiff))]),i("td",[t._v(t._s(t.waybillTimeDiff))])])])])]),i("div",{staticClass:"tile is-child"},[i("p",{staticClass:"title"},[t._v("Сравнение адресов")]),i("div",{staticClass:"tile"},[i("div",{staticClass:"tile is-parent"},[i("div",{staticClass:"tile is-child"},[i("p",{staticClass:"title"},[t._v("АВТОГРАФ")]),i("div",{staticClass:"with-border"},t._l(t.trackLocations,(function(e){return t.trackLocations?i("p",[t._v(t._s(e)+", ")]):t._e()})),0)]),t.wbLocations?i("div",{staticClass:"tile is-child"},[i("p",{staticClass:"title"},[t._v("Путевой лист")]),i("div",{staticClass:"with-border"})]):t._e()])])])])]):t._e()],1)])])},$t=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",[t._v("Отчет по"),i("br"),t._v("путевому листу")])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th"),i("th",[t._v("АВТОГРАФ")]),i("th",[t._v("Путевой лист")])])])}],It=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.chart?i("div",{staticClass:"container",on:{mouseout:t.hideItem}},[i("v-stage",{attrs:{config:{width:976,height:425}}},[i("v-layer",[t._l(t.steps,(function(e){return i("v-group",[i("v-rect",{attrs:{config:{x:0,y:e.y,height:1,width:907,fill:"#EEEEEE"}}}),i("v-rect",{attrs:{config:t.configBg.y?t.configBg:null}}),i("v-text",{attrs:{config:{x:5,y:e.y-14,text:e.num,fontFamily:"Montserrat",fontSize:12,fill:"#617E8C"}}})],1)})),t._l(t.chart,(function(e,a){return t.chart?i("v-group",{attrs:{config:{height:425,width:907/t.chart.length}}},[i("v-rect",{attrs:{config:t.configLine&&t.configLine.id==e.id?t.configLine:null}})],1):t._e()})),i("v-line",{attrs:{config:t.line}}),i("v-group",[i("v-rect",{attrs:{config:t.configPopUp.show?t.configPopUp:null}}),i("v-text",{attrs:{config:t.configPopUpTitle.show?t.configPopUpTitle:null}}),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+16,y:t.configPopUp.y+110,text:"Расход:",fontFamily:"Montserrat",fill:"#617E8C",fontSize:10}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+t.configPopUp.width-90,y:t.configPopUp.y+99,text:t.configPopUp.fuelDown,fontFamily:"Montserrat",textAlign:"right",fill:"#617E8C",fontSize:24}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+t.configPopUp.width-25,y:t.configPopUp.y+110,text:"л/м",fontFamily:"Montserrat",textAlign:"right",fill:"#617E8C",fontSize:10}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+16,y:t.configPopUp.y+135,text:"Пробег:",fontFamily:"Montserrat",fill:"#617E8C",fontSize:10}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+t.configPopUp.width-90,y:t.configPopUp.y+125,text:t.configPopUp.totalDistance,fontFamily:"Montserrat",textAlign:"right",fill:"#617E8C",fontSize:24}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+t.configPopUp.width-22,y:t.configPopUp.y+135,text:"км",fontFamily:"Montserrat",textAlign:"right",fill:"#617E8C",fontSize:10}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+16,y:t.configPopUp.y+160,text:"Длительность:",fontFamily:"Montserrat",fill:"#617E8C",fontSize:10}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+t.configPopUp.width-60,y:t.configPopUp.y+149,text:t.configPopUp.totalTime,fontFamily:"Montserrat",textAlign:"right",fill:"#617E8C",fontSize:24}}}):t._e(),t.configPopUp.show?i("v-text",{attrs:{config:{x:t.configPopUp.x+t.configPopUp.width-28,y:t.configPopUp.y+160,text:"мин",fontFamily:"Montserrat",textAlign:"right",fill:"#617E8C",fontSize:10}}}):t._e(),t.configPopUp.show?i("v-rect",{attrs:{config:{x:t.configPopUp.x,y:t.configPopUp.y+90,height:1,width:t.configPopUp.width,stroke:"#C4C4C4",strokeWidth:1,dash:[4,4]}}}):t._e()],1),t._l(t.chart,(function(e,a){return i("v-circle",{attrs:{config:t.configItem&&t.configItem.id==e.config.id?t.configItem:e.config}})})),t._l(t.chart,(function(e,a){return i("v-group",[e.maxFuelDown?i("v-text",{attrs:{config:{x:e.config.x+12,y:e.config.y-24,text:e.fuelDown,fontFamily:"Montserrat",fontSize:24,fill:"#F09A9B"}}}):t._e(),e.minFuelDown?i("v-text",{attrs:{config:{x:e.config.x+12,y:e.config.y,text:e.fuelDown,fontFamily:"Montserrat",fontSize:24,fill:"#7FCCC6"}}}):t._e(),e.maxFuelDown?i("v-circle",{attrs:{config:{x:e.config.x,y:e.config.y,radius:907/t.items.length/2,fill:"#F09A9B"}}}):t._e(),e.minFuelDown&&t.chart?i("v-circle",{attrs:{config:{x:e.config.x,y:e.config.y,radius:907/t.items.length/2,fill:"#7FCCC6"}}}):t._e()],1)})),i("v-group",[i("v-text",{attrs:{config:{x:25,y:8,text:"Расход топлива\nпо участкам, л/м",fontFamily:"Montserrat",fontSize:12,fontStyle:700,fill:"#617E8C"}}})],1),t._l(t.steps,(function(e){return i("v-group",t._l(t.chart,(function(a,s){return i("v-rect",{attrs:{config:{x:a.config.x-907/t.items.length/2,y:e.y,height:400/t.steps.length,width:907/t.items.length}},on:{mousemove:function(i){return t.showItem(s,e.y,a)}}})})),1)}))],2)],1)],1):t._e()},Nt=[],Yt={name:"wbChart",data:function(){return{configItem:{show:!0,id:null,x:null,y:null,radius:907/this.items.length/2,fill:"#F8981D"},configLine:{id:null,x:null,y:1,width:0,height:425,fill:"rgba(238, 238, 238, 0.3)",opacity:.1},configBg:{x:0,y:null,height:null,width:907,fill:"rgba(238, 238, 238, 0.3)",opacity:.1},configPopUp:{show:!1,x:null,y:null,height:null,width:null,fill:"#FFFFFF",shadowBlur:10,shadowOffset:{x:0,y:3},shadowColor:"rgba(176, 191, 198, 0.5)",shadowOpacity:.5,stroke:"#C4C4C4",strokeWidth:1,dash:[4,4]},configPopUpTitle:{show:!1,x:null,y:null,text:null,fontFamily:"Montserrat",lineHeight:1,fontSize:14,wrap:"char",fill:"#617E8C"}}},computed:{chart:function(){return this.items}},props:["items","line","steps"],methods:{showItem:function(t,e,i){var a=this.chart[t].config;this.popup=t,this.configItem.id=a.id,this.configItem.x=a.x,this.configItem.y=a.y,this.configBg.y=e,this.configBg.height=400/this.steps.length+4,this.configPopUp.show=!0,this.configPopUp.fuelDown=i.fuelDown,this.configPopUp.totalDistance=i.totalDistance.toFixed(2),this.configPopUp.totalTime=this.$moment.utc(this.$moment(new Date(i.firstDT),"DD/MM/YYYY HH:mm:ss").diff(this.$moment(new Date(i.lastDT),"DD/MM/YYYY HH:mm:ss"))).format("mm"),this.configPopUp.width=180,this.configPopUp.height=200,i.config.x<449?this.configPopUp.x=i.config.x:this.configPopUp.x=i.config.x-this.configPopUp.width,i.config.y<150?this.configPopUp.y=i.config.y:this.configPopUp.y=i.config.y-this.configPopUp.height,this.configPopUpTitle.show=!0,this.configPopUpTitle.width=this.configPopUp.width-32,this.configPopUpTitle.x=this.configPopUp.x+16,this.configPopUpTitle.y=this.configPopUp.y+16,this.configPopUpTitle.text="".concat(i.firstLocation,"\n\n").concat(i.lastLocation),this.configLine.x=a.x-this.configItem.radius,0==this.configLine.width&&(this.configLine.width=907/this.items.length)},showBg:function(t){this.bgNum=t},hideItem:function(){this.configItem.id=null,this.configItem.x=null,this.configItem.y=null,this.configLine.x=null,0!==this.configLine.width&&(this.configLine.width=0),this.bg=!1}}},Ut=Yt,Ht=Object(f["a"])(Ut,It,Nt,!1,null,null,null),At=Ht.exports,Xt={name:"Report",data:function(){return{wbId:this.id?this.id:null,registrationPlate:this.waybill?this.waybill.car.registrationPlate:null,hint:!1,mode:"production"}},components:{Chart:At},props:{id:{default:null}},computed:Object(_["a"])(Object(_["a"])({},Object(n["c"])("reports",{waybillReport:"getWaybillReport"})),{},{waybill:function(){return this.waybillReport?this.waybillReport.waybill:null},chartData:function(){return this.waybillReport?this.waybillReport.track:null},trackLocations:function(){return this.waybillReport?this.waybillReport.trackLocations:null},wbLocations:function(){return this.waybillReport&&this.waybillReport.wbLocations?this.waybillReport.wbLocations:null},dateStringOf:function(){if(this.waybill){var t=new Date(this.waybill.of),e=1=="".concat(t.getDate()).length?"0".concat(t.getDate()):t.getDate();return"".concat(e,".").concat(F.a.num[t.getMonth()],".").concat(t.getFullYear())}return null},totalWaybillFuel:function(){return parseInt(this.waybill.fuelStart)+parseInt(this.waybill.fuelVolume)-parseInt(this.waybill.fuelFinish)},totalTrackFuel:function(){return parseInt(this.waybill.trackFuelDown)-parseInt(this.waybill.trackFuelUp)<0?0:parseInt(this.waybill.trackFuelDown)-parseInt(this.waybill.trackFuelUp)},waybillTimeDiff:function(){return this.$moment.utc(this.$moment(new Date(this.waybill.startPlan),"DD/MM/YYYY HH:mm:ss").diff(this.$moment(new Date(this.waybill.finishPlan),"DD/MM/YYYY HH:mm:ss"))).format("HH:mm")},trackTimeDiff:function(){return this.$moment.utc(this.$moment(new Date(this.waybill.startFact),"DD/MM/YYYY HH:mm:ss").diff(this.$moment(new Date(this.waybill.finishFact),"DD/MM/YYYY HH:mm:ss"))).format("HH:mm")}}),methods:Object(_["a"])(Object(_["a"])({},Object(n["b"])("reports",{getWaybill:"apiWaybillReport"})),{},{showHint:function(){var t=this;this.hint=!1,setTimeout((function(){t.hint=!0}),5e3)},changeWidthId:function(){if(this.wbId){if(this.wbId.length<=5){var t=30*this.wbId.length;document.querySelector(".id").style.width="".concat(t,"px")}}else document.querySelector(".id").style.width="0px"}}),mounted:function(){this.id&&this.getWaybill(this.id)}},Jt=Xt,qt=Object(f["a"])(Jt,Rt,$t,!1,null,null,null),Vt=qt.exports,Kt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{on:{click:t.close}},[i("div",{staticClass:"section"},[i("div",{staticClass:"container"},[i("div",{staticClass:"level"},[t._m(0),i("div",{staticClass:"level-right"},[i("div",{staticClass:"level-item"},[i("table",[i("tr",[i("td",{class:"year"==t.filter?"active":null,on:{click:function(e){t.setFilter("year"),t.getAutographReport()}}},[t._v("весь год")]),i("td",{class:"yest"==t.filter?"active":null,on:{click:function(e){t.setFilter("yest"),t.getAutographReport()}}},[t._v("вчера")])]),i("tr",[i("td",{class:"month"==t.filter?"active":null,on:{click:function(e){t.setFilter("month"),t.getAutographReport()}}},[t._v("месяц")]),i("td",{class:"today"==t.filter?"active":null,on:{click:function(e){t.setFilter("today"),t.getAutographReport()}}},[t._v("сегодня")])]),i("tr",[i("td",{class:"week"==t.filter?"active":null,on:{click:function(e){t.setFilter("week"),t.getAutographReport()}}},[t._v("неделя")]),i("td",{class:"range"==t.filter?"active":null,on:{click:function(e){t.setFilter("range"),t.getAutographReport()}}},[t._v("период")])])]),i("div",{staticClass:"level-item"},[i("div",{staticClass:"wrapper from",on:{click:t.openFrom}},[i("p",[t._v(t._s(t.stringFrom))]),t.showFrom&&!t.invalidDate(t.dateFrom)?i("Calendar",{attrs:{autograph:!0,date:new Date(t.dateFrom),time:!1},on:{select:t.setDateFrom}}):t._e()],1),i("div",{staticClass:"wrapper to",on:{click:t.openTo}},[i("p",[t._v(t._s(t.stringTo))]),t.showTo&&!t.invalidDate(t.dateTo)?i("Calendar",{attrs:{autograph:!0,time:!1,date:new Date(t.dateTo),range:!1},on:{select:t.setDateTo}}):t._e()],1)])])])]),i("hr"),i("Table",{attrs:{waybills:t.autographReport}})],1)])])},Gt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"level-left"},[i("div",{staticClass:"level-item"},[i("h1",[t._v(" Отчет по"),i("br"),t._v("автографу")])])])}],Zt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.waybills?i("div",{attrs:{id:"autograph_table"}},[i("table",{staticClass:"table top"},[t._m(0),0!==t.waybills.length?i("tbody",t._l(t.waybills,(function(e){return i("tr",[i("td",{staticClass:"car is-paddingless"},[i("table",[i("tr",[i("td",[t._v(t._s(e.model))]),i("td",[t._v(t._s(e.registrationPlate))])])])]),i("td",{staticClass:"fuel is-paddingless"},[i("table",[i("tr",[i("td",[t._v(t._s(e.firstFuel))]),i("td",[t._v(t._s(e.motionFuelUp))]),i("td",[t._v(t._s(e.motionFuelDown))]),i("td",[t._v(t._s(e.lastFuel))])])])]),i("td",{staticClass:"distance is-paddingless"},[i("table",[i("tr",[i("td",[t._v(t._s(e.totalDistance))]),i("td",[t._v(t._s(e.workDistance))]),i("td",[t._v(t._s(e.idingDistance))])])])])])})),0):i("tbody",{staticClass:"no-data"},[i("tr",[i("td",{staticClass:"car"},[i("b-skeleton",{attrs:{animated:!1}})],1),i("td",{staticClass:"fuel"},[i("b-skeleton",{attrs:{animated:!1}})],1),i("td",{staticClass:"distance"},[i("b-skeleton",{attrs:{animated:!1}})],1)])])]),0==t.waybills.length?i("div",{staticClass:"content"},[i("h4",{staticClass:"has-text-centered"},[t._v("Нет подходящих данных")])]):t._e(),0!==t.waybills.length?i("table",{staticClass:"table bottom"},[i("tr",[t._m(1),i("td",{staticClass:"fuel"},[i("table",[i("tr",[i("td",[t._v(t._s(t.total.motionFuelUp)+" ")]),i("td",[t._v(t._s(t.total.motionFuelDown))]),i("td",[t._v(t._s(t.total.tankFuelUp))]),i("td",[t._v(t._s(t.total.tankFuelDown))])])])]),t._m(2)])]):t._e()]):t._e()},Qt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("thead",[i("tr",[i("th",{staticClass:"car"},[t._v("Машина")]),i("th",{staticClass:"fuel"},[t._v("Расход ГСМ, л"),i("table",[i("tr",[i("td",[t._v("ост.нач")]),i("td",[t._v("приход")]),i("td",[t._v("расход")]),i("td",[t._v("ост.кон")])])])]),i("th",{staticClass:"distance"},[t._v("Пройдено, км"),i("table",[i("tr",[i("td",[t._v("общий")]),i("td",[t._v("рабочий")]),i("td",[t._v("холостой")])])])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{staticClass:"car"},[i("table",[i("tr",[i("td"),i("td",[t._v("Итого:")])])])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("td",{staticClass:"distance"},[i("table",[i("tr",[i("td"),i("td"),i("td")])])])}],te={name:"waybillsReportsTable",data:function(){return{filter:"ALL"}},props:["waybills","carsList"],computed:Object(_["a"])({},Object(n["c"])("reports",{total:"getTotalData"})),methods:Object(_["a"])({},Object(n["b"])("reports",{autographReport:"apiAutographReport"})),beforeMount:function(){this.autographReport()}},ee=te,ie=Object(f["a"])(ee,Zt,Qt,!1,null,null,null),ae=ie.exports,se={name:"AutographReport",components:{Table:ae,Calendar:L},data:function(){return{date:new Date,showTo:!1,showFrom:!1}},computed:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["c"])("reports",{autographReport:"getAutographReport"})),Object(n["e"])("reports",{dateTo:function(t){return t.dateTo},dateFrom:function(t){return t.dateFrom},carsList:function(t){return t.carsList},filter:function(t){return t.filter}})),{},{stringFrom:function(){var t=new Date(this.dateFrom);return"С ".concat(t.getDate()," ").concat(F.a.string[t.getMonth()]," ").concat(t.getFullYear())},stringTo:function(){var t=new Date(this.dateTo);return"по ".concat(t.getDate()," ").concat(F.a.string[t.getMonth()]," ").concat(t.getFullYear())}}),methods:Object(_["a"])(Object(_["a"])(Object(_["a"])({},Object(n["b"])("reports",{getAutographReport:"apiAutographReport",setDates:"setDates"})),Object(n["d"])("reports",{setDateTo:"setDateTo",setDateFrom:"setDateFrom",setFilter:"setFilter"})),{},{to:function(t){var e=this;this.setDateTo(t).then((function(){e.getAutographReport()}))},from:function(t){var e=this;this.setDateFrom(t).then((function(){e.getAutographReport()}))},openTo:function(t){(t.target.matches(".wrapper.to p")||t.target.matches(".wrapper.to"))&&(this.showTo=!this.showTo)},openFrom:function(t){(t.target.matches(".wrapper.from p")||t.target.matches(".wrapper.from"))&&(this.showFrom=!this.showFrom)},close:function(t){t.target.matches(".calendar *, .wrapper.to *, .wrapper.from *")||(this.showTo&&(this.showTo=!1),this.showFrom&&(this.showFrom=!1))},invalidDate:function(t){return"Invalid Date"==t}}),beforeMount:function(){"null"!=this.dateTo&&"null"!=this.dateFrom&&this.dateTo&&this.dateFrom&&"Invalid Date"!=this.dateFrom&&"Invalid Date"!=this.dateTo||this.setDates()}},ne=se,le=(i("2388"),Object(f["a"])(ne,Kt,Gt,!1,null,"696b90d4",null)),re=le.exports;s["default"].use(l["a"]);var oe=new l["a"]({base:"/",mode:"history",routes:[{path:"/",name:"Главная",component:h,hidden:!0,meta:{},redirect:"/waybills"},{path:"/waybills",name:"Waybills",component:b,hidden:!1,children:[{path:"",name:"WaybillsList",menuName:"Путевые листы",menuIcon:"waybills",component:I,hidden:!1},{path:"open",name:"OpenWaybill",menuName:"Открыть путевой лист",menuIcon:"addWaybill",component:rt,hidden:!1},{path:"close",name:"CloseWaybill",menuName:"Закрыть путевой лист",menuIcon:"closeWaybill",component:ht,hidden:!1,props:!0,children:[{path:":id",component:ht,hidden:!0}]},{path:"preview",name:"PreviewWaybill",component:bt,hidden:!0}]},{path:"/reports",name:"Reports",menuName:"Отчеты",component:Dt,hidden:!1,children:[{path:"waybills",name:"WaybillsReport",menuName:"По путевым листам",menuIcon:"report_menu-item",component:Et,hidden:!1},{path:"waybill",name:"WaybillReport",component:Vt,hidden:!0,props:!0,children:[{path:":id",component:Vt,hidden:!0}]},{path:"autograph",name:"Autopraph",menuName:"По автографу",menuIcon:"report_menu-item",component:re,hidden:!1}]},{path:"*",redirect:"/waybills",hidden:!0}]});i("caad"),i("a15b"),i("a9e3"),i("8ba4"),i("ac1f"),i("2532"),i("5319"),i("498a");function ce(t){localStorage.setItem(t,null)}ce("dateFrom"),ce("dateTo"),ce("filterType"),ce("newListDrivers"),ce("newListCar"),ce("waybills");var ue=localStorage.getItem("dateFrom"),fe=localStorage.getItem("dateTo"),de=localStorage.getItem("filterType"),he=localStorage.getItem("newWaybill"),ge=localStorage.getItem("newListDrivers"),me=localStorage.getItem("newListCar"),ve=localStorage.getItem("waybills"),pe={namespaced:!0,state:{waybills:ve?JSON.parse(ve):null,waybill:null,waybillsSort:null,dateFrom:ue?new Date(ue):null,dateTo:fe?new Date(fe):null,total:null,filterType:de&&"null"!==de?de:"range",closeWaybill:null,newWaybill:he?JSON.parse(he):null,newListDrivers:ge?JSON.parse(ge):null,newListCar:me?JSON.parse(me):null,loading:!1,status:["CLOSE"],carsFilter:null},getters:{getNewWaybill:function(t){return t.newWaybill},getNewListDrivers:function(t){return t.newListDrivers},getNewListCar:function(t){return t.newListCar},waybills:function(t){return t.waybills},getCloseWaybill:function(t){return t.closeWaybill},waybillsSortData:function(t){return t.waybillsSort},getPagesCount:function(t){return t.pagesCount},total:function(t){return t.total},getFilterType:function(t){return t.filterType},getCarsFilter:function(t){return t.carsFilter}},mutations:{waybills:function(t,e){return t.waybills=e},waybillsSort:function(t,e){return t.waybillsSort=e},setCloseWaybill:function(t,e){return t.closeWaybill=e},dateFrom:function(t,e){t.dateFrom=new Date(e),localStorage.setItem("dateFrom",e)},dateTo:function(t,e){t.dateTo=new Date(e),localStorage.setItem("dateTo",e)},setFilterType:function(t,e){t.filterType=e,localStorage.setItem("filterType",e)},setAllNewWaybillData:function(t,e){e.waybill&&(t.newWaybill=e.waybill,localStorage.setItem("newWaybill",JSON.stringify(t.newWaybill))),e.newListDrivers&&(t.newListDrivers=e.listDrivers,localStorage.setItem("newListDrivers",JSON.stringify(t.newListDrivers))),e.newListCar&&(t.newListCar=e.listCar,localStorage.setItem("newListCar",JSON.stringify(t.newListCar)))},setNewWbId:function(t,e){t.newWaybill.id=e.target.value,localStorage.setItem("newWaybill",JSON.stringify(t.newWaybill))},setNewWbRegistrationPlate:function(t,e){t.newWaybill.car.registrationPlate=e.target.value},setNewWbDateOf:function(t,e){t.newWaybill.of=e,localStorage.setItem("newWaybill",JSON.stringify(t.newWaybill))},setNewWbCar:function(t,e){t.newWaybill.car=e,t.newWaybill.serial=e.serial,localStorage.setItem("newWaybill",JSON.stringify(t.newWaybill))},setNewWbDriverName:function(t,e){t.newWaybill.driver.name=e},setNewWbDriver:function(t,e){t.newWaybill.driver=e,localStorage.setItem("newWaybill",JSON.stringify(t.newWaybill))},setNewWbTask:function(t,e){t.newWaybill.workText=e.target.value,localStorage.setItem("newWaybill",JSON.stringify(t.newWaybill))},setNewWbFuelStart:function(t,e){t.newWaybill.fuelStart=e.target.value,localStorage.setItem("newWaybill",JSON.stringify(t.newWaybill))},setListDrivers:function(t,e){t.newListDrivers=e,localStorage.setItem("newListDrivers",JSON.stringify(t.newListDrivers))},setListCars:function(t,e){t.newListCar=e,localStorage.setItem("newListCar",JSON.stringify(t.newListCar))},setCarsFilter:function(t,e){return t.carsFilter=e.groups}},actions:{getWaybills:function(t,e){return Object(U["a"])(regeneratorRuntime.mark((function i(){var a,s,n,l,r,o,c,u,f,d,h;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=t.commit,s=t.state,s.loading=!0,n=(new Date).getFullYear(),l=F.a.num[(new Date).getMonth()],r=(new Date).getDate(),o=Q.a.global.timezone,c=e&&e.page?e.page:null,o="".concat(o).includes("-")?"".concat(o).replace("-","%2D"):"".concat(o).replace("+","%2B"),i.t0=s.filterType,i.next="year"===i.t0?7:"yest"===i.t0?9:"month"===i.t0?11:"today"===i.t0?13:"week"===i.t0?15:"range"===i.t0?20:22;break;case 7:return u={from:{year:(new Date).getFullYear(),month:"01",day:"01",timezone:o},to:{year:(new Date).getFullYear(),month:"12",day:"31",timezone:o},page:c},i.abrupt("break",22);case 9:return u={from:{year:n,month:l,day:r-1,timezone:o},to:{year:n,month:l,day:r-1,timezone:o},page:c},i.abrupt("break",22);case 11:return u={from:{year:n,month:l,day:"01",timezone:o},to:{year:n,month:l,day:new Date(n,l,0).getDate(),timezone:o},page:c},i.abrupt("break",22);case 13:return u={from:{year:n,month:l,day:r,timezone:o},to:{year:n,month:l,day:r,timezone:o},page:c},i.abrupt("break",22);case 15:return f=(new Date).getDay()-1,d=r-f,h=d+6,u={from:{year:n,month:l,day:d,timezone:o},to:{year:n,month:l,day:h,timezone:o},page:c},i.abrupt("break",22);case 20:return u={from:{year:s.dateFrom.getFullYear(),month:F.a.num[s.dateFrom.getMonth()],day:1=="".concat(s.dateFrom.getDate()).length?"0".concat(s.dateFrom.getDate()):s.dateFrom.getDate(),timezone:o},to:{year:s.dateTo.getFullYear(),month:F.a.num[s.dateTo.getMonth()],day:1=="".concat(s.dateTo.getDate()).length?"0".concat(s.dateTo.getDate()):s.dateTo.getDate(),timezone:o},page:c},i.abrupt("break",22);case 22:return u.status=e&&e.status?e.status.join(","):null,u.serial=e&&e.serial?e.serial:null,i.next=26,it.getWaybills(u).then((function(t){s.loading=!1;var e=t.data;for(var i in e.listWaybill){if(null!==e.listWaybill[i].car){var n=e.listWaybill[i].car.model,l=e.listWaybill[i].car.registrationPlate;for(var r in null!==n&&(e.listWaybill[i].car.model=n.replace(l,"").trim()),e.listWaybill[i]){var o=e.listWaybill[i][r];"number"==typeof o&&(Number.isInteger(o)||(e.listWaybill[i][r]=e.listWaybill[i][r].toFixed(2).replace(".",",")))}}switch(e.listWaybill[i].status){case"OPEN":e.listWaybill[i].status={},e.listWaybill[i].status.name="OPEN",e.listWaybill[i].status.text="Открыт",e.listWaybill[i].status.class="opened";break;case"CHECK":e.listWaybill[i].status={},e.listWaybill[i].status.name="CHECK",e.listWaybill[i].status.text="Проверка",e.listWaybill[i].status.class="check";break;case"CLOSE":e.listWaybill[i].status={},e.listWaybill[i].status.name="CLOSE",e.listWaybill[i].status.text="Закрыт",e.listWaybill[i].status.class="closed";break;case"ERROR":e.listWaybill[i].status={},e.listWaybill[i].status.name="CHECK",e.listWaybill[i].status.text="Проверка",e.listWaybill[i].status.class="check";break}e.size=e.listWaybill.length}a("waybills",e),localStorage.setItem("waybills",JSON.stringify(e))})).catch((function(t){console.log(t),s.loading=!1}));case 26:case"end":return i.stop()}}),i)})))()},getNewWaybillData:function(t){return Object(U["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=t.commit,e.next=3,it.getNewWaybill().then((function(t){i("setAllNewWaybillData",t.data)})).catch((function(t){console.error(t),at["a"].open({message:"Неизвестная ошибка, повторите позже!",type:"is-danger",queue:!1})}));case 3:case"end":return e.stop()}}),e)})))()},apiCloseWaybill:function(t,e){return Object(U["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return a=t.commit,i.next=3,it.getCloseWaybill(e).then((function(t){"NEW"==t.data.waybill.status?(at["a"].open({message:"Путевой лист ещё не открыт"}),a("setCloseWaybill",null)):"CLOSE"!==t.data.waybill.status&&"CHECK"!==t.data.waybill.status?a("setCloseWaybill",t.data):at["a"].open({message:"Путевой лист уже закрыт или находится на проверке"})})).catch((function(){at["a"].open({message:"Путевой лист находится на проверке, уже закрыт или не существует"})}));case 3:case"end":return i.stop()}}),i)})))()},apiCarsFilter:function(t){return Object(U["a"])(regeneratorRuntime.mark((function e(){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i=t.commit,it.getCarsFilter().then((function(t){var e=t.data;for(var a in e.groups)for(var s in e.groups[a]){var n=e.groups[a][s].registrationPlate;e.groups[a][s].registrationPlate=n.toLowerCase()}i("setCarsFilter",e)})).catch((function(t){console.error(t)}));case 2:case"end":return e.stop()}}),e)})))()},apiLastOpenWb:function(t,e){return Object(U["a"])(regeneratorRuntime.mark((function i(){var a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:a=t.commit,it.getLastOpenWb(e).then((function(t){null===t.data.waybill?at["a"].open({message:"Такого путевого листа нет!"}):a("setCloseWaybill",t.data)})).catch((function(t){return console.error(t)}));case 2:case"end":return i.stop()}}),i)})))()},setDates:function(t){var e=t.commit,i=new Date,a=new Date(i.setMonth(i.getMonth()-3));e("dateFrom",a);var s=new Date(i.setMonth(i.getMonth()+4));e("dateTo",s)}}},ye=(i("6062"),i("3ca3"),i("ddb0"),i("2909")),be=i("b85c"),we=function(t,e){return new Date(t.getTime()+Math.random()*(e.getTime()-t.getTime())).getTime()};function Ce(t){localStorage.setItem(t,null)}Ce("dateFrom"),Ce("dateTo");var _e=localStorage.getItem("dateTo"),xe=localStorage.getItem("dateFrom"),Fe={namespaced:!0,state:{waybillsReports:null,autographReport:null,totalData:null,filteredWaybillsReports:null,carsList:null,dateTo:_e||null,dateFrom:xe||null,waybillReport:null,filter:"range"},getters:{getWaybillsReports:function(t){return t.waybillsReports},getWaybillReport:function(t){return t.waybillReport},getAutographReport:function(t){return t.autographReport},getTotalData:function(t){return t.totalData},getFilteredWaybillsReports:function(t){return t.filteredWaybillsReports},getCarsList:function(t){return t.carsList}},mutations:{setWaybillsReports:function(t,e){t.waybillsReports=e},setAutographReport:function(t,e){t.autographReport=e},setTotalData:function(t,e){t.totalData=e},setFilteredWaybillsReports:function(t,e){t.filteredWaybillsReports=e},setCarsList:function(t,e){t.carsList=e},setDateTo:function(t,e){t.dateTo=e.date.getTime()},setDateFrom:function(t,e){t.dateFrom=e.date.getTime()},setWaybillReport:function(t,e){t.waybillReport=e},setFilter:function(t,e){t.filter=e}},actions:{apiAutographReport:function(t){var e,i,a,s,n=t.commit,l=t.state,r=new Date(l.dateFrom),o=new Date(l.dateTo),c=(new Date).getFullYear(),u=F.a.num[(new Date).getMonth()],f=(new Date).getDate(),d=Q.a.global.timezone;switch(d="".concat(d).includes("-")?"".concat(d).replace("-","%2D"):"".concat(d).replace("+","%2B"),l.filter){case"year":e={from:{year:(new Date).getFullYear(),month:"01",day:"01",timezone:d},to:{year:(new Date).getFullYear(),month:"12",day:"31",timezone:d}};break;case"yest":e={from:{year:c,month:u,day:f-1,timezone:d},to:{year:c,month:u,day:f-1,timezone:d}};break;case"month":e={from:{year:c,month:u,day:"01",timezone:d},to:{year:c,month:u,day:new Date(c,u,0).getDate(),timezone:d}};break;case"today":e={from:{year:c,month:u,day:f,timezone:d},to:{year:c,month:u,day:f,timezone:d}};break;case"week":i=(new Date).getDay()-1,a=f-i,s=a+6,e={from:{year:c,month:u,day:a,timezone:d},to:{year:c,month:u,day:s,timezone:d}};break;case"range":e={from:{year:r.getFullYear(),month:F.a.num[r.getMonth()],day:1=="".concat(r.getDate()).length?"0".concat(r.getDate()):r.getDate(),timezone:d},to:{year:o.getFullYear(),month:F.a.num[o.getMonth()],day:1=="".concat(o.getDate()).length?"0".concat(o.getDate()):o.getDate(),timezone:d}};break}it.getAutographReport(e).then((function(t){for(var e=t.data.data,i={motionFuelUp:0,motionFuelDown:0,tankFuelUp:0,tankFuelDown:0},a=0;a<=e.length-1;a++)for(var s in e[a].idingDistance=e[a].totalDistance-e[a].workDistance,i.motionFuelUp+=e[a].motionFuelUp?Number(e[a].motionFuelUp):0,i.motionFuelDown+=e[a].motionFuelDown?Number(e[a].motionFuelDown):0,i.tankFuelUp+=e[a].tankFuelUp?Number(e[a].tankFuelUp):0,i.tankFuelDown+=e[a].tankFuelDown?Number(e[a].tankFuelDown):0,e[a]){var l=e[a][s];"number"==typeof l&&(Number.isInteger(l)||(e[a][s]=e[a][s].toFixed(2).replace(".",",")))}i.motionFuelUp=i.motionFuelUp.toFixed(2).replace(".",","),i.motionFuelDown=i.motionFuelDown.toFixed(2).replace(".",","),i.tankFuelUp=i.tankFuelUp.toFixed(2).replace(".",","),i.tankFuelDown=i.tankFuelDown.toFixed(2).replace(".",","),n("setTotalData",i),n("setAutographReport",e)})).catch((function(t){return console.error(t)}))},apiWaybillReport:function(t,e){var i=t.commit;it.getWaybillReport(e).then((function(t){var e=15,a=897/t.data.track.length,s=[],n=t.data.track,l=0;for(var r in n)n[r].firstFuel-n[r].lastFuel<0?n[r].fuelDown=0:n[r].fuelDown=new Number(((n[r].firstFuel-n[r].lastFuel)/n[r].totalDistance).toFixed(2));for(var o=n[0].fuelDown,c=0,u=n.length;c<u;c++){var f=n[c].fuelDown;l=f>l?f:l,o=f<o&&f>0?f:o}for(var d in n)n[d].config={id:d,x:e+10,y:400-n[d].fuelDown*(400/(10*Math.ceil(l/10)+5)),radius:10},s.push(n[d].config.x),s.push(n[d].config.y),e+=a;n.filter((function(t){switch(t.fuelDown){case l:t.maxFuelDown=!0,t.minFuelDown=!1;break;case o:t.minFuelDown=!0,t.maxFuelDown=!1;break;default:t.minFuelDown=!1,t.maxFuelDown=!1;break}}));for(var h=[],g=10*Math.ceil(l/10)+5,m=0;m<=g;m+=5){var v={num:m,y:400-400/g*m,height:400/g};h.push(v)}t.data.steps=h,t.data.track=n,t.data.lineConfig={points:s,stroke:"#617E8C",strokeWidth:5,lineCap:"round",lineJoin:"round"};var p,y=[],b=Object(be["a"])(n);try{for(b.s();!(p=b.n()).done;){var w=p.value;y.push(w.firstLocation),y.push(w.lastLocation)}}catch(C){b.e(C)}finally{b.f()}t.data.trackLocations=y,i("setWaybillReport",t.data)})).catch((function(t){console.error(t)}))},setDates:function(t){var e=t.commit,i=new Date,a=new Date(i.setMonth(i.getMonth()-3));e("setDateFrom",{date:a});var s=new Date(i.setMonth(i.getMonth()+4));e("setDateTo",{date:s})},apiWaybillsReport:function(t){for(var e,i=t.commit,a=30,s=[],n=1;n<=a;n++){var l={id:null,car:{name:null,registrationPlate:"у 797 но 96"},of:we(new Date(2020,0,1),new Date),fuelWaybill:"1 233,28",fuelAutograph:"1 233,28",mileageWaybill:"1 233,28",mileageAutograph:"1 233,28",status:{}};switch(l.id=n,e=Math.floor(3*Math.random()),e){case 1:l.status.name="OPEN",l.status.class="opened",l.status.text="Открыт",l.car.name="Машина 1";break;case 2:l.status.name="CHECK",l.status.class="check",l.status.text="Проверка",l.car.name="Машина 2";break;case 3:l.status.name="CLOSE",l.status.class="closed",l.status.text="Закрыт",l.car.name="Машина 1";break;default:l.status.name="CLOSE",l.status.class="closed",l.status.text="Закрыт",l.car.name="Машина 3";break}s.push(l)}var r=[];for(n=0;n<=s.length-1;n++)r.push(s[n].car.name);r=Object(ye["a"])(new Set(r)),i("setCarsList",r),i("setWaybillsReports",s)},filterReports:function(t,e){var i,a=t.commit,s=t.state,n=s.waybillsReports,l={},r=[],o=Object(be["a"])(e.status);try{var c=function(){var t=i.value;if(""!==t){l=n.filter((function(e){return e.status.name==t}));var e,a=Object(be["a"])(l);try{for(a.s();!(e=a.n()).done;){var s=e.value;r.push(s)}}catch(o){a.e(o)}finally{a.f()}}};for(o.s();!(i=o.n()).done;)c()}catch(u){o.e(u)}finally{o.f()}"ALL"!==e.car&&(r=r.filter((function(t){return t.car.name==e.car}))),r.sort((function(t,e){return t.id-e.id})),a("setFilteredWaybillsReports",r)}}};s["default"].use(n["a"]);var De=new n["a"].Store({});De.registerModule("waybills",pe),De.registerModule("reports",Fe);var Se=De,ke=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{staticClass:"hero"},[i("Sidebar",{attrs:{routes:t.routes}}),i("router-view",{attrs:{id:"main"}})],1),t.timezoneError?i("div",{staticClass:"modal is-active",attrs:{id:"error"}},[i("div",{staticClass:"modal-background"}),i("div",{staticClass:"modal-content"},[i("div",{staticClass:"content"},[i("h2",{staticClass:"has-text-danger"},[t._v("Ошибка!")]),i("p",{staticClass:"has-text-white has-text-weight-bold is-size-5"},[t._v(t._s(t.errorList[t.errorType].title))]),i("p",{staticClass:"has-text-white has-text-weight-bold is-size-6"},[t._v(t._s(t.errorList[t.errorType].action)+" ")]),i("p",{staticClass:"has-text-white is-size-7"},[t._v(t._s(t.errorList[t.errorType].file)+" ")])])])]):t._e()])},je=[],Me=(i("466d"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"aside"}},[t._m(0),t._l(t.routes,(function(e,a){return e.hidden||"Waybills"!=e.name?t._e():i("div",{key:a,staticClass:"items"},t._l(e.children,(function(a,s){return a.hidden?t._e():i("router-link",{key:s,staticClass:"aside-item has-text-centered",attrs:{to:a.path?e.path+"/"+a.path:e.path}},[i("img",{attrs:{src:("development"==t.mode?"/":t.$userConfig.publicPath)+"icons/"+a.menuIcon+".svg"}}),t._v(t._s(a.menuName))])})),1)})),t._l(t.routes,(function(e,a){return e.hidden||"Reports"!=e.name?t._e():i("div",{key:a,staticClass:"items"},[e.menuName?i("div",{staticClass:"head"},[t._v(t._s(e.menuName))]):t._e(),t._l(e.children,(function(a,s){return a.hidden?t._e():i("router-link",{key:s,staticClass:"aside-item has-text-centered",attrs:{to:a.path?e.path+"/"+a.path:e.path}},[i("img",{attrs:{src:("development"==t.mode?"/":t.$userConfig.publicPath)+"icons/"+a.menuIcon+".svg"}}),t._v(t._s(a.menuName))])}))],2)}))],2)}),Te=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"aside-item main-item"},[a("img",{attrs:{src:i("5b1c")}})])}],We={name:"Sidebar",props:["routes"],data:function(){return{mode:"production"}}},Pe=We,Oe=Object(f["a"])(Pe,Me,Te,!1,null,null,null),ze=Oe.exports,Be={name:"App",components:{Sidebar:ze},data:function(){return{breadcrumbs:this.$router.currentRoute.meta.breadcrumbs,routes:this.$router.options.routes,timezoneError:!1,errorType:"",errorList:{timezone:{title:"Некорректно введён часовой пояс!",action:"Повторите ввод и обновите страницу",file:"config.js"}}}},computed:Object(_["a"])(Object(_["a"])({},Object(n["e"])("waybills",{dateFrom:function(t){return t.dateFrom},dateTo:function(t){return t.dateTo}})),Object(n["e"])("reports",{repDateFrom:function(t){return t.dateFrom},repDateTo:function(t){return t.dateTo}})),methods:Object(_["a"])(Object(_["a"])({},Object(n["b"])("waybills",["setDates"])),Object(n["b"])("reports",{setRepDates:"setDates"})),beforeMount:function(){var t=/^(?:Z|[+-](?:2[0-3]|[01][0-9]):[0-5][0-9])$/;this.$timezone.match(t)||(this.timezoneError=!0,this.errorType="timezone"),this.dateFrom&&this.dateTo||this.setDates(),this.repDateFrom&&this.repDateTo||this.setRepDates()}},Le=Be,Ee=(i("cf25"),Object(f["a"])(Le,ke,je,!1,null,null,null)),Re=Ee.exports,$e=i("7591"),Ie=i.n($e),Ne=i("c1df"),Ye=i.n(Ne);for(var Ue in s["default"].use(n["a"]),s["default"].use(a["a"]),s["default"].use(Ie.a),s["default"].prototype.$moment=Ye.a,s["default"].prototype.$userConfig=Q.a,Q.a.global)s["default"].prototype["$".concat(Ue)]=Q.a.global[Ue];s["default"].config.productionTip=!1,new s["default"]({router:oe,store:Se,render:function(t){return t(Re)}}).$mount("#app")},"5b1c":function(t,e,i){t.exports=i.p+"img/logo.4d58b156.svg"},"5c45":function(t,e,i){t.exports=i.p+"img/close-waybill.4f5be632.svg"},6568:function(t,e,i){t.exports=i.p+"img/angle.537de2a8.svg"},"76a4":function(t,e,i){t.exports=i.p+"img/add.1a16f3ff.svg"},8508:function(t,e,i){t.exports=i.p+"img/waybill-report.38add9c6.svg"},"863e":function(t,e){t.exports={backendUrl:"http://tomcat.utyf.ru/",publicPath:"/",waybill:"waybill.json",getWaybillOpen:"waybill/open.json",setWaybillOpen:"waybill/open.json",drivers:"drivers.json",car:"car.json",waybillLast:"waybill/last.json",getWaybillClose:"waybill/close.json",setWaybillClose:"waybill/close.json",reportTrack:"report/track.json",reportWaybill:"report/waybill.json",carGroups:"car-groups.json",global:{timezone:"+05:00"}}},9057:function(t,e,i){"use strict";var a=i("02c3"),s=i.n(a);s.a},"9a06":function(t,e,i){"use strict";var a=i("2538"),s=i.n(a);s.a},b991:function(t,e,i){"use strict";var a=i("e827"),s=i.n(a);s.a},bae1:function(t,e,i){t.exports=i.p+"img/incrase.af1b7976.svg"},bf6c:function(t,e,i){"use strict";var a=i("452f"),s=i.n(a);s.a},cf25:function(t,e,i){"use strict";var a=i("fea6"),s=i.n(a);s.a},e827:function(t,e,i){},fea6:function(t,e,i){}});
//# sourceMappingURL=app.4e277321.js.map